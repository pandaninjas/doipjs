var doipFetchers=function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){if(this instanceof e){var r=[null];return r.push.apply(r,arguments),new(Function.bind.apply(t,r))}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var i={exports:{}},o=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}},s=o,a=Object.prototype.toString;function c(e){return Array.isArray(e)}function u(e){return void 0===e}function l(e){return"[object ArrayBuffer]"===a.call(e)}function h(e){return null!==e&&"object"==typeof e}function f(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function p(e){return"[object Function]"===a.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var m={isArray:c,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===a.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:h,isPlainObject:f,isUndefined:u,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:p,isStream:function(e){return h(e)&&p(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===a.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:d,merge:function e(){var t={};function r(r,n){f(t[n])&&f(r)?t[n]=e(t[n],r):f(r)?t[n]=e({},r):c(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)d(arguments[n],r);return t},extend:function(e,t,r){return d(t,(function(t,n){e[n]=r&&"function"==typeof t?s(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},g=m;function y(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var b=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(g.isURLSearchParams(t))n=t.toString();else{var i=[];g.forEach(t,(function(e,t){null!=e&&(g.isArray(e)?t+="[]":e=[e],g.forEach(e,(function(e){g.isDate(e)?e=e.toISOString():g.isObject(e)&&(e=JSON.stringify(e)),i.push(y(t)+"="+y(e))})))})),n=i.join("&")}if(n){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e},w=m;function v(){this.handlers=[]}v.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},v.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},v.prototype.forEach=function(e){w.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var _=v,E="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function k(){throw new Error("setTimeout has not been defined")}function S(){throw new Error("clearTimeout has not been defined")}var x=k,C=S;function T(e){if(x===setTimeout)return setTimeout(e,0);if((x===k||!x)&&setTimeout)return x=setTimeout,setTimeout(e,0);try{return x(e,0)}catch(t){try{return x.call(null,e,0)}catch(t){return x.call(this,e,0)}}}"function"==typeof E.setTimeout&&(x=setTimeout),"function"==typeof E.clearTimeout&&(C=clearTimeout);var O,A=[],L=!1,P=-1;function j(){L&&O&&(L=!1,O.length?A=O.concat(A):P=-1,A.length&&R())}function R(){if(!L){var e=T(j);L=!0;for(var t=A.length;t;){for(O=A,A=[];++P<t;)O&&O[P].run();P=-1,t=A.length}O=null,L=!1,function(e){if(C===clearTimeout)return clearTimeout(e);if((C===S||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(e);try{return C(e)}catch(t){try{return C.call(null,e)}catch(t){return C.call(this,e)}}}(e)}}function B(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];A.push(new M(e,t)),1!==A.length||L||T(R)}function M(e,t){this.fun=e,this.array=t}M.prototype.run=function(){this.fun.apply(null,this.array)};function I(){}var D=I,N=I,U=I,q=I,F=I,z=I,W=I;var $=E.performance||{},Y=$.now||$.mozNow||$.msNow||$.oNow||$.webkitNow||function(){return(new Date).getTime()};var X=new Date;var H,V,G,J,K,Q,Z,ee,te,re,ne,ie,oe,se,ae,ce,ue,le,he,fe,pe,de,me={nextTick:B,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:D,addListener:N,once:U,off:q,removeListener:F,removeAllListeners:z,emit:W,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Y.call($),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-X)/1e3}},ge=m,ye=function(e,t){ge.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))},be=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e};function we(){if(V)return H;V=1;var e=be;return H=function(t,r,n,i,o){var s=new Error(t);return e(s,r,n,i,o)},H}function ve(){if(J)return G;J=1;var e=we();return G=function(t,r,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?r(e("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)},G}function _e(){if(Q)return K;Q=1;var e=m;return K=e.isStandardBrowserEnv()?{write:function(t,r,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(r)),e.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),e.isString(i)&&a.push("path="+i),e.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},K}function Ee(){return ee?Z:(ee=1,Z=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)})}function ke(){return re?te:(re=1,te=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e})}function Se(){if(ie)return ne;ie=1;var e=Ee(),t=ke();return ne=function(r,n){return r&&!e(n)?t(r,n):n}}function xe(){if(se)return oe;se=1;var e=m,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return oe=function(r){var n,i,o,s={};return r?(e.forEach(r.split("\n"),(function(r){if(o=r.indexOf(":"),n=e.trim(r.substr(0,o)).toLowerCase(),i=e.trim(r.substr(o+1)),n){if(s[n]&&t.indexOf(n)>=0)return;s[n]="set-cookie"===n?(s[n]?s[n]:[]).concat([i]):s[n]?s[n]+", "+i:i}})),s):s}}function Ce(){if(ce)return ae;ce=1;var e=m;return ae=e.isStandardBrowserEnv()?function(){var t,r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var t=e;return r&&(n.setAttribute("href",t),t=n.href),n.setAttribute("href",t),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(r){var n=e.isString(r)?i(r):r;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}}function Te(){if(le)return ue;function e(e){this.message=e}return le=1,e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,ue=e}function Oe(){if(fe)return he;fe=1;var e=m,t=ve(),r=_e(),n=b,i=Se(),o=xe(),s=Ce(),a=we(),c=Ae(),u=Te();return he=function(l){return new Promise((function(h,f){var p,d=l.data,m=l.headers,g=l.responseType;function y(){l.cancelToken&&l.cancelToken.unsubscribe(p),l.signal&&l.signal.removeEventListener("abort",p)}e.isFormData(d)&&delete m["Content-Type"];var b=new XMLHttpRequest;if(l.auth){var w=l.auth.username||"",v=l.auth.password?unescape(encodeURIComponent(l.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+v)}var _=i(l.baseURL,l.url);function E(){if(b){var e="getAllResponseHeaders"in b?o(b.getAllResponseHeaders()):null,r={data:g&&"text"!==g&&"json"!==g?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:e,config:l,request:b};t((function(e){h(e),y()}),(function(e){f(e),y()}),r),b=null}}if(b.open(l.method.toUpperCase(),n(_,l.params,l.paramsSerializer),!0),b.timeout=l.timeout,"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(E)},b.onabort=function(){b&&(f(a("Request aborted",l,"ECONNABORTED",b)),b=null)},b.onerror=function(){f(a("Network Error",l,null,b)),b=null},b.ontimeout=function(){var e=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",t=l.transitional||c.transitional;l.timeoutErrorMessage&&(e=l.timeoutErrorMessage),f(a(e,l,t.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},e.isStandardBrowserEnv()){var k=(l.withCredentials||s(_))&&l.xsrfCookieName?r.read(l.xsrfCookieName):void 0;k&&(m[l.xsrfHeaderName]=k)}"setRequestHeader"in b&&e.forEach(m,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete m[t]:b.setRequestHeader(t,e)})),e.isUndefined(l.withCredentials)||(b.withCredentials=!!l.withCredentials),g&&"json"!==g&&(b.responseType=l.responseType),"function"==typeof l.onDownloadProgress&&b.addEventListener("progress",l.onDownloadProgress),"function"==typeof l.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",l.onUploadProgress),(l.cancelToken||l.signal)&&(p=function(e){b&&(f(!e||e&&e.type?new u("canceled"):e),b.abort(),b=null)},l.cancelToken&&l.cancelToken.subscribe(p),l.signal&&(l.signal.aborted?p():l.signal.addEventListener("abort",p))),d||(d=null),b.send(d)}))},he}function Ae(){if(de)return pe;de=1;var e=m,t=ye,r=be,n={"Content-Type":"application/x-www-form-urlencoded"};function i(t,r){!e.isUndefined(t)&&e.isUndefined(t["Content-Type"])&&(t["Content-Type"]=r)}var o,s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==me&&"[object process]"===Object.prototype.toString.call(me))&&(o=Oe()),o),transformRequest:[function(r,n){return t(n,"Accept"),t(n,"Content-Type"),e.isFormData(r)||e.isArrayBuffer(r)||e.isBuffer(r)||e.isStream(r)||e.isFile(r)||e.isBlob(r)?r:e.isArrayBufferView(r)?r.buffer:e.isURLSearchParams(r)?(i(n,"application/x-www-form-urlencoded;charset=utf-8"),r.toString()):e.isObject(r)||n&&"application/json"===n["Content-Type"]?(i(n,"application/json"),function(t,r,n){if(e.isString(t))try{return(r||JSON.parse)(t),e.trim(t)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(t)}(r)):r}],transformResponse:[function(t){var n=this.transitional||s.transitional,i=n&&n.silentJSONParsing,o=n&&n.forcedJSONParsing,a=!i&&"json"===this.responseType;if(a||o&&e.isString(t)&&t.length)try{return JSON.parse(t)}catch(e){if(a){if("SyntaxError"===e.name)throw r(e,this,"E_JSON_PARSE");throw e}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),e.forEach(["post","put","patch"],(function(t){s.headers[t]=e.merge(n)})),pe=s}var Le,Pe,je=m,Re=Ae();function Be(){return Pe?Le:(Pe=1,Le=function(e){return!(!e||!e.__CANCEL__)})}var Me=m,Ie=function(e,t,r){var n=this||Re;return je.forEach(r,(function(r){e=r.call(n,e,t)})),e},De=Be(),Ne=Ae(),Ue=Te();function qe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ue("canceled")}var Fe,ze,We=m,$e=function(e,t){t=t||{};var r={};function n(e,t){return We.isPlainObject(e)&&We.isPlainObject(t)?We.merge(e,t):We.isPlainObject(t)?We.merge({},t):We.isArray(t)?t.slice():t}function i(r){return We.isUndefined(t[r])?We.isUndefined(e[r])?void 0:n(void 0,e[r]):n(e[r],t[r])}function o(e){if(!We.isUndefined(t[e]))return n(void 0,t[e])}function s(r){return We.isUndefined(t[r])?We.isUndefined(e[r])?void 0:n(void 0,e[r]):n(void 0,t[r])}function a(r){return r in t?n(e[r],t[r]):r in e?n(void 0,e[r]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a};return We.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,n=t(e);We.isUndefined(n)&&t!==a||(r[e]=n)})),r};function Ye(){return ze?Fe:(ze=1,Fe={version:"0.25.0"})}var Xe=Ye().version,He={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){He[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var Ve={};He.transitional=function(e,t,r){function n(e,t){return"[Axios v"+Xe+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,i,o){if(!1===e)throw new Error(n(i," has been removed"+(t?" in "+t:"")));return t&&!Ve[i]&&(Ve[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}};var Ge,Je,Ke,Qe,Ze,et,tt={assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],s=t[o];if(s){var a=e[o],c=void 0===a||s(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:He},rt=m,nt=b,it=_,ot=function(e){return qe(e),e.headers=e.headers||{},e.data=Ie.call(e,e.data,e.headers,e.transformRequest),e.headers=Me.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Me.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Ne.adapter)(e).then((function(t){return qe(e),t.data=Ie.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return De(t)||(qe(e),t&&t.response&&(t.response.data=Ie.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},st=$e,at=tt,ct=at.validators;function ut(e){this.defaults=e,this.interceptors={request:new it,response:new it}}ut.prototype.request=function(e,t){if("string"==typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=st(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&at.assertOptions(r,{silentJSONParsing:ct.transitional(ct.boolean),forcedJSONParsing:ct.transitional(ct.boolean),clarifyTimeoutError:ct.transitional(ct.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var o,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!i){var a=[ot,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(s),o=Promise.resolve(t);a.length;)o=o.then(a.shift(),a.shift());return o}for(var c=t;n.length;){var u=n.shift(),l=n.shift();try{c=u(c)}catch(e){l(e);break}}try{o=ot(c)}catch(e){return Promise.reject(e)}for(;s.length;)o=o.then(s.shift(),s.shift());return o},ut.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=st(this.defaults,e),nt(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},rt.forEach(["delete","get","head","options"],(function(e){ut.prototype[e]=function(t,r){return this.request(st(r||{},{method:e,url:t,data:(r||{}).data}))}})),rt.forEach(["post","put","patch"],(function(e){ut.prototype[e]=function(t,r,n){return this.request(st(n||{},{method:e,url:t,data:r}))}}));var lt=m,ht=o,ft=ut,pt=$e;var dt=function e(t){var r=new ft(t),n=ht(ft.prototype.request,r);return lt.extend(n,ft.prototype,r),lt.extend(n,r),n.create=function(r){return e(pt(t,r))},n}(Ae());dt.Axios=ft,dt.Cancel=Te(),dt.CancelToken=function(){if(Je)return Ge;Je=1;var e=Te();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var r;this.promise=new Promise((function(e){r=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},t((function(t){n.reason||(n.reason=new e(t),r(n.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},Ge=t}(),dt.isCancel=Be(),dt.VERSION=Ye().version,dt.all=function(e){return Promise.all(e)},dt.spread=Qe?Ke:(Qe=1,Ke=function(e){return function(t){return e.apply(null,t)}}),dt.isAxiosError=function(){if(et)return Ze;et=1;var e=m;return Ze=function(t){return e.isObject(t)&&!0===t.isAxiosError}}(),i.exports=dt,i.exports.default=dt;var mt=r(i.exports),gt={exports:{}},yt={exports:{}};!function(e,t){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="string"==typeof e||e instanceof String;if(!t){var n=r(e);throw null===e?n="null":"object"===n&&(n=e.constructor.name),new TypeError("Expected a string but received a ".concat(n))}},e.exports=t.default,e.exports.default=t.default}(yt,yt.exports);var bt=yt.exports,wt={exports:{}},vt={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},e.exports=t.default,e.exports.default=t.default}(vt,vt.exports);var _t=vt.exports;!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),(t=(0,n.default)(t,o)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var i=e.split("."),s=i[i.length-1];if(t.require_tld){if(i.length<2)return!1;if(!t.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(s))return!1;if(/\s/.test(s))return!1}if(!t.allow_numeric_tld&&/^\d+$/.test(s))return!1;return i.every((function(e){return!(e.length>63&&!t.ignore_max_length)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)&&(!/[\uff01-\uff5e]/.test(e)&&(!/^-|-$/.test(e)&&!(!t.allow_underscores&&/_/.test(e)))))}))};var r=i(bt),n=i(_t);function i(e){return e&&e.__esModule?e:{default:e}}var o={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};e.exports=t.default,e.exports.default=t.default}(wt,wt.exports);var Et=wt.exports,kt=r(Et),St={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,n.default)(t),r=String(r),!r)return e(t,4)||e(t,6);if("4"===r)return s.test(t);if("6"===r)return c.test(t);return!1};var r,n=(r=bt)&&r.__esModule?r:{default:r};var i="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",o="(".concat(i,"[.]){3}").concat(i),s=new RegExp("^".concat(o,"$")),a="(?:[0-9a-fA-F]{1,4})",c=new RegExp("^("+"(?:".concat(a,":){7}(?:").concat(a,"|:)|")+"(?:".concat(a,":){6}(?:").concat(o,"|:").concat(a,"|:)|")+"(?:".concat(a,":){5}(?::").concat(o,"|(:").concat(a,"){1,2}|:)|")+"(?:".concat(a,":){4}(?:(:").concat(a,"){0,1}:").concat(o,"|(:").concat(a,"){1,3}|:)|")+"(?:".concat(a,":){3}(?:(:").concat(a,"){0,2}:").concat(o,"|(:").concat(a,"){1,4}|:)|")+"(?:".concat(a,":){2}(?:(:").concat(a,"){0,3}:").concat(o,"|(:").concat(a,"){1,5}|:)|")+"(?:".concat(a,":){1}(?:(:").concat(a,"){0,4}:").concat(o,"|(:").concat(a,"){1,6}|:)|")+"(?::((?::".concat(a,"){0,5}:").concat(o,"|(?::").concat(a,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");e.exports=t.default,e.exports.default=t.default}(St,St.exports);var xt=St.exports;!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),!e||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;if((t=(0,o.default)(t,c)).validate_length&&e.length>=2083)return!1;if(!t.allow_fragments&&e.includes("#"))return!1;if(!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;var s,h,f,p,d,m,g,y;if(g=e.split("#"),e=g.shift(),g=e.split("?"),e=g.shift(),(g=e.split("://")).length>1){if(s=g.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(s))return!1}else{if(t.require_protocol)return!1;if("//"===e.slice(0,2)){if(!t.allow_protocol_relative_urls)return!1;g[0]=e.slice(2)}}if(""===(e=g.join("://")))return!1;if(g=e.split("/"),""===(e=g.shift())&&!t.require_host)return!0;if((g=e.split("@")).length>1){if(t.disallow_auth)return!1;if(""===g[0])return!1;if((h=g.shift()).indexOf(":")>=0&&h.split(":").length>2)return!1;var b=h.split(":"),w=(k=2,function(e){if(Array.isArray(e))return e}(E=b)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}}(E,k)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(E,k)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=w[0],_=w[1];if(""===v&&""===_)return!1}var E,k;p=g.join("@"),m=null,y=null;var S=p.match(u);S?(f="",y=S[1],m=S[2]||null):(f=(g=p.split(":")).shift(),g.length&&(m=g.join(":")));if(null!==m&&m.length>0){if(d=parseInt(m,10),!/^[0-9]+$/.test(m)||d<=0||d>65535)return!1}else if(t.require_port)return!1;if(t.host_whitelist)return l(f,t.host_whitelist);if(""===f&&!t.require_host)return!0;if(!((0,i.default)(f)||(0,n.default)(f,t)||y&&(0,i.default)(y,6)))return!1;if(f=f||y,t.host_blacklist&&l(f,t.host_blacklist))return!1;return!0};var r=s(bt),n=s(Et),i=s(xt),o=s(_t);function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},u=/^\[([^\]]+)\](?::([0-9]+))?$/;function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e===n||(i=n,"[object RegExp]"===Object.prototype.toString.call(i)&&n.test(e)))return!0}var i;return!1}e.exports=t.default,e.exports.default=t.default}(gt,gt.exports);var Ct=r(gt.exports),Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});var Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At="undefined"!=typeof window&&void 0!==window.document,Lt="object"===("undefined"==typeof self?"undefined":Ot(self))&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,Pt=void 0!==me&&null!=me.versions&&null!=me.versions.node,jt=Tt.isBrowser=At;Tt.isWebWorker=Lt;var Rt=Tt.isNode=Pt;Tt.isJsDom=function(){return"undefined"!=typeof window&&"nodejs"===window.name||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")};var Bt={};const Mt="1.2.0",It=5e3;var Dt=Object.freeze({__proto__:null,fn:async function(e,t){let r;const n=new Promise(((t,n)=>{r=setTimeout((()=>n(new Error("Request was timed out"))),e.fetcherTimeout?e.fetcherTimeout:It)})),i=new Promise(((r,n)=>{(async()=>{let i=!1;try{Ct(t.claims.activitypub.url),i=!0}catch(e){}const o=new Date,{host:s,pathname:a,search:c}=new URL(e.url),u={host:s,date:o.toUTCString(),accept:"application/activity+json","User-Agent":`doipjs/${Mt}`};if(i&&Rt){const e=`(request-target): get ${a}${c}\nhost: ${s}\ndate: ${o.toUTCString()}`,r=Bt.createSign("SHA256");r.write(e),r.end();const n=r.sign(t.claims.activitypub.privateKey.replace(/\\n/g,"\n"),"base64");u.signature=`keyId="${t.claims.activitypub.url}#main-key",headers="(request-target) host date",signature="${n}",algorithm="rsa-sha256"`}mt.get(e.url,{headers:u}).then((e=>e.data)).then((e=>{r(e)})).catch((e=>{n(e)}))})()}));return Promise.race([i,n]).then((e=>(clearTimeout(r),e)))},timeout:It}),Nt={};const Ut=5e3;var qt=Object.freeze({__proto__:null,fn:async function(e,t){if(jt)return null;let r;const n=new Promise(((t,n)=>{r=setTimeout((()=>n(new Error("Request was timed out"))),e.fetcherTimeout?e.fetcherTimeout:Ut)})),i=new Promise(((t,r)=>{Nt.resolveTxt(e.domain,((n,i)=>{n?r(n):t({domain:e.domain,records:{txt:i}})}))}));return Promise.race([i,n]).then((e=>(clearTimeout(r),e)))},timeout:Ut});const Ft=5e3;var zt=Object.freeze({__proto__:null,fn:async function(e,t){let r;const n=new Promise(((t,n)=>{r=setTimeout((()=>n(new Error("Request was timed out"))),e.fetcherTimeout?e.fetcherTimeout:Ft)})),i=new Promise(((t,r)=>{if(!e.url)return void r(new Error("No valid URI provided"));let n;try{n=JSON.parse(e.query)}catch(e){r(new Error("Invalid GraphQL query object"))}mt.post(e.url,n,{headers:{"Content-Type":"application/json","User-Agent":`doipjs/${Mt}`},validateStatus:function(e){return e>=200&&e<400}}).then((e=>{t(e.data)})).catch((e=>{r(e)}))}));return Promise.race([i,n]).then((e=>(clearTimeout(r),e)))},timeout:Ft});const Wt={JSON:"json",TEXT:"text"},$t=5e3;var Yt=Object.freeze({__proto__:null,fn:async function(e,t){let r;const n=new Promise(((t,n)=>{r=setTimeout((()=>n(new Error("Request was timed out"))),e.fetcherTimeout?e.fetcherTimeout:$t)})),i=new Promise(((t,r)=>{if(e.url)switch(e.format){case Wt.JSON:mt.get(e.url,{headers:{Accept:"application/json","User-Agent":`doipjs/${Mt}`},validateStatus:function(e){return e>=200&&e<400}}).then((e=>{t(e.data)})).catch((e=>{r(e)}));break;case Wt.TEXT:mt.get(e.url,{validateStatus:function(e){return e>=200&&e<400},responseType:"text"}).then((e=>{t(e.data)})).catch((e=>{r(e)}));break;default:r(new Error("No specified data format"))}else r(new Error("No valid URI provided"))}));return Promise.race([i,n]).then((e=>(clearTimeout(r),e)))},timeout:$t}),Xt=[],Ht=[],Vt="undefined"!=typeof Uint8Array?Uint8Array:Array,Gt=!1;function Jt(){Gt=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)Xt[t]=e[t],Ht[e.charCodeAt(t)]=t;Ht["-".charCodeAt(0)]=62,Ht["_".charCodeAt(0)]=63}function Kt(e,t,r){for(var n,i,o=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(Xt[(i=n)>>18&63]+Xt[i>>12&63]+Xt[i>>6&63]+Xt[63&i]);return o.join("")}function Qt(e){var t;Gt||Jt();for(var r=e.length,n=r%3,i="",o=[],s=16383,a=0,c=r-n;a<c;a+=s)o.push(Kt(e,a,a+s>c?c:a+s));return 1===n?(t=e[r-1],i+=Xt[t>>2],i+=Xt[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=Xt[t>>10],i+=Xt[t>>4&63],i+=Xt[t<<2&63],i+="="),o.push(i),o.join("")}function Zt(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,h=r?i-1:0,f=r?-1:1,p=e[t+h];for(h+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+h],h+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=u}return(p?-1:1)*s*Math.pow(2,o-n)}function er(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*c-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+p]=255&s,p+=d,s/=256,u-=8);e[r+p-d]|=128*m}var tr={}.toString,rr=Array.isArray||function(e){return"[object Array]"==tr.call(e)};sr.TYPED_ARRAY_SUPPORT=void 0===E.TYPED_ARRAY_SUPPORT||E.TYPED_ARRAY_SUPPORT;var nr=ir();function ir(){return sr.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function or(e,t){if(ir()<t)throw new RangeError("Invalid typed array length");return sr.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=sr.prototype:(null===e&&(e=new sr(t)),e.length=t),e}function sr(e,t,r){if(!(sr.TYPED_ARRAY_SUPPORT||this instanceof sr))return new sr(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return ur(this,e)}return ar(this,e,t,r)}function ar(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);sr.TYPED_ARRAY_SUPPORT?(e=t).__proto__=sr.prototype:e=lr(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!sr.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|pr(t,r);e=or(e,n);var i=e.write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(fr(t)){var r=0|hr(t.length);return 0===(e=or(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?or(e,0):lr(e,t);if("Buffer"===t.type&&rr(t.data))return lr(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function cr(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function ur(e,t){if(cr(t),e=or(e,t<0?0:0|hr(t)),!sr.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function lr(e,t){var r=t.length<0?0:0|hr(t.length);e=or(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function hr(e){if(e>=ir())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ir().toString(16)+" bytes");return 0|e}function fr(e){return!(null==e||!e._isBuffer)}function pr(e,t){if(fr(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return qr(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Fr(e).length;default:if(n)return qr(e).length;t=(""+t).toLowerCase(),n=!0}}function dr(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Ar(this,t,r);case"utf8":case"utf-8":return xr(this,t,r);case"ascii":return Tr(this,t,r);case"latin1":case"binary":return Or(this,t,r);case"base64":return Sr(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lr(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function mr(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function gr(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=sr.from(t,n)),fr(t))return 0===t.length?-1:yr(e,t,r,n,i);if("number"==typeof t)return t&=255,sr.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):yr(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function yr(e,t,r,n,i){var o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){for(var h=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){h=!1;break}if(h)return o}return-1}function br(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function wr(e,t,r,n){return zr(qr(t,e.length-r),e,r,n)}function vr(e,t,r,n){return zr(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _r(e,t,r,n){return vr(e,t,r,n)}function Er(e,t,r,n){return zr(Fr(t),e,r,n)}function kr(e,t,r,n){return zr(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function Sr(e,t,r){return 0===t&&r===e.length?Qt(e):Qt(e.slice(t,r))}function xr(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,c,u=e[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(e){var t=e.length;if(t<=Cr)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Cr));return r}(n)}sr.poolSize=8192,sr._augment=function(e){return e.__proto__=sr.prototype,e},sr.from=function(e,t,r){return ar(null,e,t,r)},sr.TYPED_ARRAY_SUPPORT&&(sr.prototype.__proto__=Uint8Array.prototype,sr.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&sr[Symbol.species]),sr.alloc=function(e,t,r){return function(e,t,r,n){return cr(t),t<=0?or(e,t):void 0!==r?"string"==typeof n?or(e,t).fill(r,n):or(e,t).fill(r):or(e,t)}(null,e,t,r)},sr.allocUnsafe=function(e){return ur(null,e)},sr.allocUnsafeSlow=function(e){return ur(null,e)},sr.isBuffer=Wr,sr.compare=function(e,t){if(!fr(e)||!fr(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},sr.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},sr.concat=function(e,t){if(!rr(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return sr.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=sr.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!fr(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},sr.byteLength=pr,sr.prototype._isBuffer=!0,sr.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)mr(this,t,t+1);return this},sr.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)mr(this,t,t+3),mr(this,t+1,t+2);return this},sr.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)mr(this,t,t+7),mr(this,t+1,t+6),mr(this,t+2,t+5),mr(this,t+3,t+4);return this},sr.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?xr(this,0,e):dr.apply(this,arguments)},sr.prototype.equals=function(e){if(!fr(e))throw new TypeError("Argument must be a Buffer");return this===e||0===sr.compare(this,e)},sr.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},sr.prototype.compare=function(e,t,r,n,i){if(!fr(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(n,i),u=e.slice(t,r),l=0;l<a;++l)if(c[l]!==u[l]){o=c[l],s=u[l];break}return o<s?-1:s<o?1:0},sr.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},sr.prototype.indexOf=function(e,t,r){return gr(this,e,t,r,!0)},sr.prototype.lastIndexOf=function(e,t,r){return gr(this,e,t,r,!1)},sr.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return br(this,e,t,r);case"utf8":case"utf-8":return wr(this,e,t,r);case"ascii":return vr(this,e,t,r);case"latin1":case"binary":return _r(this,e,t,r);case"base64":return Er(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kr(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},sr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Cr=4096;function Tr(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function Or(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function Ar(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=Ur(e[o]);return i}function Lr(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function Pr(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function jr(e,t,r,n,i,o){if(!fr(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function Rr(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Br(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function Mr(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Ir(e,t,r,n,i){return i||Mr(e,0,r,4),er(e,t,r,n,23,4),r+4}function Dr(e,t,r,n,i){return i||Mr(e,0,r,8),er(e,t,r,n,52,8),r+8}sr.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),sr.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=sr.prototype;else{var i=t-e;r=new sr(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},sr.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||Pr(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},sr.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||Pr(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},sr.prototype.readUInt8=function(e,t){return t||Pr(e,1,this.length),this[e]},sr.prototype.readUInt16LE=function(e,t){return t||Pr(e,2,this.length),this[e]|this[e+1]<<8},sr.prototype.readUInt16BE=function(e,t){return t||Pr(e,2,this.length),this[e]<<8|this[e+1]},sr.prototype.readUInt32LE=function(e,t){return t||Pr(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},sr.prototype.readUInt32BE=function(e,t){return t||Pr(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},sr.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||Pr(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},sr.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||Pr(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},sr.prototype.readInt8=function(e,t){return t||Pr(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},sr.prototype.readInt16LE=function(e,t){t||Pr(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},sr.prototype.readInt16BE=function(e,t){t||Pr(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},sr.prototype.readInt32LE=function(e,t){return t||Pr(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},sr.prototype.readInt32BE=function(e,t){return t||Pr(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},sr.prototype.readFloatLE=function(e,t){return t||Pr(e,4,this.length),Zt(this,e,!0,23,4)},sr.prototype.readFloatBE=function(e,t){return t||Pr(e,4,this.length),Zt(this,e,!1,23,4)},sr.prototype.readDoubleLE=function(e,t){return t||Pr(e,8,this.length),Zt(this,e,!0,52,8)},sr.prototype.readDoubleBE=function(e,t){return t||Pr(e,8,this.length),Zt(this,e,!1,52,8)},sr.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||jr(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},sr.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||jr(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},sr.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||jr(this,e,t,1,255,0),sr.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},sr.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||jr(this,e,t,2,65535,0),sr.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Rr(this,e,t,!0),t+2},sr.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||jr(this,e,t,2,65535,0),sr.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Rr(this,e,t,!1),t+2},sr.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||jr(this,e,t,4,4294967295,0),sr.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Br(this,e,t,!0),t+4},sr.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||jr(this,e,t,4,4294967295,0),sr.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Br(this,e,t,!1),t+4},sr.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);jr(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},sr.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);jr(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},sr.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||jr(this,e,t,1,127,-128),sr.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},sr.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||jr(this,e,t,2,32767,-32768),sr.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Rr(this,e,t,!0),t+2},sr.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||jr(this,e,t,2,32767,-32768),sr.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Rr(this,e,t,!1),t+2},sr.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||jr(this,e,t,4,2147483647,-2147483648),sr.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Br(this,e,t,!0),t+4},sr.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||jr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),sr.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Br(this,e,t,!1),t+4},sr.prototype.writeFloatLE=function(e,t,r){return Ir(this,e,t,!0,r)},sr.prototype.writeFloatBE=function(e,t,r){return Ir(this,e,t,!1,r)},sr.prototype.writeDoubleLE=function(e,t,r){return Dr(this,e,t,!0,r)},sr.prototype.writeDoubleBE=function(e,t,r){return Dr(this,e,t,!1,r)},sr.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!sr.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},sr.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!sr.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=fr(e)?e:qr(new sr(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var Nr=/[^+\/0-9A-Za-z-_]/g;function Ur(e){return e<16?"0"+e.toString(16):e.toString(16)}function qr(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Fr(e){return function(e){var t,r,n,i,o,s;Gt||Jt();var a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[a-2]?2:"="===e[a-1]?1:0,s=new Vt(3*a/4-o),n=o>0?a-4:a;var c=0;for(t=0,r=0;t<n;t+=4,r+=3)i=Ht[e.charCodeAt(t)]<<18|Ht[e.charCodeAt(t+1)]<<12|Ht[e.charCodeAt(t+2)]<<6|Ht[e.charCodeAt(t+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=255&i;return 2===o?(i=Ht[e.charCodeAt(t)]<<2|Ht[e.charCodeAt(t+1)]>>4,s[c++]=255&i):1===o&&(i=Ht[e.charCodeAt(t)]<<10|Ht[e.charCodeAt(t+1)]<<4|Ht[e.charCodeAt(t+2)]>>2,s[c++]=i>>8&255,s[c++]=255&i),s}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Nr,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function zr(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Wr(e){return null!=e&&(!!e._isBuffer||$r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&$r(e.slice(0,0))}(e))}function $r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var Yr=Object.freeze({__proto__:null,Buffer:sr,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return+e!=e&&(e=0),sr.alloc(+e)},isBuffer:Wr,kMaxLength:nr}),Xr={},Hr=n(Object.freeze({__proto__:null,default:{}})),Vr=n(Object.freeze({__proto__:null,default:{}})),Gr="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},Jr=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},Kr=/%[sdj%]/g;function Qr(e){if(!mn(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(nn(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(Kr,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])fn(s)||!wn(s)?o+=" "+s:o+=" "+nn(s);return o}function Zr(e,t){if(yn(E.process))return function(){return Zr(e,t).apply(this,arguments)};if(!0===me.noDeprecation)return e;var r=!1;return function(){if(!r){if(me.throwDeprecation)throw new Error(t);me.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}}var en,tn={};function rn(e){if(yn(en)&&(en=me.env.NODE_DEBUG||""),e=e.toUpperCase(),!tn[e])if(new RegExp("\\b"+e+"\\b","i").test(en)){var t=0;tn[e]=function(){var r=Qr.apply(null,arguments);console.error("%s %d: %s",e,t,r)}}else tn[e]=function(){};return tn[e]}function nn(e,t){var r={seen:[],stylize:sn};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),hn(t)?r.showHidden=t:t&&An(r,t),yn(r.showHidden)&&(r.showHidden=!1),yn(r.depth)&&(r.depth=2),yn(r.colors)&&(r.colors=!1),yn(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=on),an(r,e,r.depth)}function on(e,t){var r=nn.styles[t];return r?"["+nn.colors[r][0]+"m"+e+"["+nn.colors[r][1]+"m":e}function sn(e,t){return e}function an(e,t,r){if(e.customInspect&&t&&En(t.inspect)&&t.inspect!==nn&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return mn(n)||(n=an(e,n,r)),n}var i=function(e,t){if(yn(t))return e.stylize("undefined","undefined");if(mn(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(dn(t))return e.stylize(""+t,"number");if(hn(t))return e.stylize(""+t,"boolean");if(fn(t))return e.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),_n(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return cn(t);if(0===o.length){if(En(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(bn(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(vn(t))return e.stylize(Date.prototype.toString.call(t),"date");if(_n(t))return cn(t)}var c,u="",l=!1,h=["{","}"];(ln(t)&&(l=!0,h=["[","]"]),En(t))&&(u=" [Function"+(t.name?": "+t.name:"")+"]");return bn(t)&&(u=" "+RegExp.prototype.toString.call(t)),vn(t)&&(u=" "+Date.prototype.toUTCString.call(t)),_n(t)&&(u=" "+cn(t)),0!==o.length||l&&0!=t.length?r<0?bn(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=l?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)Ln(t,String(s))?o.push(un(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(un(e,t,r,n,i,!0))})),o}(e,t,r,s,o):o.map((function(n){return un(e,t,r,s,n,l)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,u,h)):h[0]+u+h[1]}function cn(e){return"["+Error.prototype.toString.call(e)+"]"}function un(e,t,r,n,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),Ln(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=fn(r)?an(e,c.value,null):an(e,c.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),yn(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function ln(e){return Array.isArray(e)}function hn(e){return"boolean"==typeof e}function fn(e){return null===e}function pn(e){return null==e}function dn(e){return"number"==typeof e}function mn(e){return"string"==typeof e}function gn(e){return"symbol"==typeof e}function yn(e){return void 0===e}function bn(e){return wn(e)&&"[object RegExp]"===xn(e)}function wn(e){return"object"==typeof e&&null!==e}function vn(e){return wn(e)&&"[object Date]"===xn(e)}function _n(e){return wn(e)&&("[object Error]"===xn(e)||e instanceof Error)}function En(e){return"function"==typeof e}function kn(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function Sn(e){return sr.isBuffer(e)}function xn(e){return Object.prototype.toString.call(e)}function Cn(e){return e<10?"0"+e.toString(10):e.toString(10)}nn.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},nn.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Tn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function On(){var e,t;console.log("%s - %s",(e=new Date,t=[Cn(e.getHours()),Cn(e.getMinutes()),Cn(e.getSeconds())].join(":"),[e.getDate(),Tn[e.getMonth()],t].join(" ")),Qr.apply(null,arguments))}function An(e,t){if(!t||!wn(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function Ln(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Pn="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function jn(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(Pn&&e[Pn]){var t;if("function"!=typeof(t=e[Pn]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,Pn,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Pn&&Object.defineProperty(t,Pn,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,Jr(e))}function Rn(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function Bn(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};e.apply(this,t).then((function(e){me.nextTick(o.bind(null,null,e))}),(function(e){me.nextTick(Rn.bind(null,e,o))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,Jr(e)),t}jn.custom=Pn;var Mn={inherits:Gr,_extend:An,log:On,isBuffer:Sn,isPrimitive:kn,isFunction:En,isError:_n,isDate:vn,isObject:wn,isRegExp:bn,isUndefined:yn,isSymbol:gn,isString:mn,isNumber:dn,isNullOrUndefined:pn,isNull:fn,isBoolean:hn,isArray:ln,inspect:nn,deprecate:Zr,format:Qr,debuglog:rn,promisify:jn,callbackify:Bn},In=n(Object.freeze({__proto__:null,_extend:An,callbackify:Bn,debuglog:rn,default:Mn,deprecate:Zr,format:Qr,inherits:Gr,inspect:nn,isArray:ln,isBoolean:hn,isBuffer:Sn,isDate:vn,isError:_n,isFunction:En,isNull:fn,isNullOrUndefined:pn,isNumber:dn,isObject:wn,isPrimitive:kn,isRegExp:bn,isString:mn,isSymbol:gn,isUndefined:yn,log:On,promisify:jn}));function Dn(){}function Nn(){Nn.init.call(this)}function Un(e){return void 0===e._maxListeners?Nn.defaultMaxListeners:e._maxListeners}function qn(e,t,r,n){var i,o,s,a;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]):(o=e._events=new Dn,e._eventsCount=0),s){if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(i=Un(e))&&i>0&&s.length>i){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,"function"==typeof console.warn?console.warn(a):console.log(a)}}else s=o[t]=r,++e._eventsCount;return e}function Fn(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function zn(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function Wn(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}Dn.prototype=Object.create(null),Nn.EventEmitter=Nn,Nn.usingDomains=!1,Nn.prototype.domain=void 0,Nn.prototype._events=void 0,Nn.prototype._maxListeners=void 0,Nn.defaultMaxListeners=10,Nn.init=function(){this.domain=null,Nn.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Dn,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Nn.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},Nn.prototype.getMaxListeners=function(){return Un(this)},Nn.prototype.emit=function(e){var t,r,n,i,o,s,a,c="error"===e;if(s=this._events)c=c&&null==s.error;else if(!c)return!1;if(a=this.domain,c){if(t=arguments[1],!a){if(t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(r=s[e]))return!1;var l="function"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var n=e.length,i=Wn(e,n),o=0;o<n;++o)i[o].call(r)}(r,l,this);break;case 2:!function(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,o=Wn(e,i),s=0;s<i;++s)o[s].call(r,n)}(r,l,this,arguments[1]);break;case 3:!function(e,t,r,n,i){if(t)e.call(r,n,i);else for(var o=e.length,s=Wn(e,o),a=0;a<o;++a)s[a].call(r,n,i)}(r,l,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,i,o){if(t)e.call(r,n,i,o);else for(var s=e.length,a=Wn(e,s),c=0;c<s;++c)a[c].call(r,n,i,o)}(r,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];!function(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,o=Wn(e,i),s=0;s<i;++s)o[s].apply(r,n)}(r,l,this,i)}return!0},Nn.prototype.addListener=function(e,t){return qn(this,e,t,!1)},Nn.prototype.on=Nn.prototype.addListener,Nn.prototype.prependListener=function(e,t){return qn(this,e,t,!0)},Nn.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,Fn(this,e,t)),this},Nn.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,Fn(this,e,t)),this},Nn.prototype.removeListener=function(e,t){var r,n,i,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new Dn:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new Dn,this;delete n[e]}else!function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,i);n.removeListener&&this.emit("removeListener",e,s||t)}return this},Nn.prototype.off=function(e,t){return this.removeListener(e,t)},Nn.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new Dn,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new Dn:delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new Dn,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},Nn.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},Nn.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):zn.call(e,t)},Nn.prototype.listenerCount=zn,Nn.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var $n=n(Object.freeze({__proto__:null,EventEmitter:Nn,default:Nn})),Yn={},Xn={white:"00",black:"01",dark_blue:"02",dark_green:"03",light_red:"04",dark_red:"05",magenta:"06",orange:"07",yellow:"08",light_green:"09",cyan:"10",light_cyan:"11",light_blue:"12",light_magenta:"13",gray:"14",light_gray:"15",bold:"",underline:"",reset:""};Yn.codes=Xn,Yn.wrap=function(e,t,r){return Xn[e]&&(t=Xn[e]+t,t+=Xn[r]?Xn[r]:Xn.reset),t};var Hn={};!function(e){const t={"00":["white"],"01":["black"],"02":["navy"],"03":["green"],"04":["red"],"05":["brown","maroon"],"06":["purple","violet"],"07":["olive"],"08":["yellow"],"09":["lightgreen","lime"],10:["teal","bluecyan"],11:["cyan","aqua"],12:["blue","royal"],13:["pink","lightpurple","fuchsia"],14:["gray","grey"],15:["lightgray","lightgrey","silver"]},r={normal:"",underline:"",bold:"",italic:"",inverse:"",strikethrough:"",monospace:""},n={};Object.keys(r).forEach((e=>{n[r[e]]=!0}));const i="",o=r.bold+r.bold,s=/^,\d/,a=new RegExp(`^${i}\\d\\d`),c={fg:[],bg:[],styles:Object.keys(r),custom:[],extras:[]};Object.keys(t).forEach((r=>{let n=e=>i+r+(s.test(e)?o:"")+e+i,u=e=>{if(a.test(e)){let t=e.substr(3);return e.substr(0,3)+","+r+(0===t.indexOf(o)?t.substr(o.length):t)}return"01,"+r+e+i};t[r].forEach((t=>{c.fg.push(t),c.bg.push("bg"+t),e[t]=n,e["bg"+t]=u}))})),Object.keys(r).forEach((t=>{let n=r[t];e[t]=e=>n+e+n}));const u={rainbow:(t,r)=>{let n=(r=r||["red","olive","yellow","green","blue","navy","violet"]).length,i=0;return t.split("").map((t=>" "!==t?e[r[i++%n]](t):t)).join("")}};Object.keys(u).forEach((t=>{c.custom.push(t),e[t]=u[t]}));const l={stripColors:e=>e.replace(/\x03\d{0,2}(,\d{0,2}|\x02\x02)?/g,""),stripStyle:e=>{let t=[];for(let r=0,o=e.length;r<o;r++){let o=e[r];if(n[o]||o===i){let n=t[t.length-1];if(n&&n[0]===o){let s=n[1];r-s>1&&o!==i&&(e=e.slice(0,s)+e.slice(s+1,r)+e.slice(r+1),r-=2),t.pop()}else t.push([e[r],r])}}for(let r of t.reverse())if(r[0]!==i){let t=r[1];e=e.slice(0,t)+e.slice(t+1)}return e},stripColorsAndStyle:t=>e.stripColors(e.stripStyle(t))};Object.keys(l).forEach((t=>{c.extras.push(t),e[t]=l[t]}));const h=(t,r)=>{Object.keys(c).forEach((n=>{r.indexOf(n)>-1||c[n].forEach((i=>{null==t[i]&&Object.defineProperty(t,i,{get:()=>{let o=r=>e[i](t(r));return h(o,[].concat(r,n)),o}})}))}))};Object.keys(c).forEach((t=>{c[t].forEach((r=>{h(e[r],[t])}))})),e.global=()=>{let t,r={};String.prototype.__defineGetter__("irc",(function(){return t=this,r}));for(let n in c)c[n].forEach((i=>{let o=()=>e[i](t);h(o,[n]),r[i]=o}))}}(Hn);var Vn=Hn,Gn={"001":{name:"rpl_welcome",type:"reply"},"002":{name:"rpl_yourhost",type:"reply"},"003":{name:"rpl_created",type:"reply"},"004":{name:"rpl_myinfo",type:"reply"},"005":{name:"rpl_isupport",type:"reply"},200:{name:"rpl_tracelink",type:"reply"},201:{name:"rpl_traceconnecting",type:"reply"},202:{name:"rpl_tracehandshake",type:"reply"},203:{name:"rpl_traceunknown",type:"reply"},204:{name:"rpl_traceoperator",type:"reply"},205:{name:"rpl_traceuser",type:"reply"},206:{name:"rpl_traceserver",type:"reply"},208:{name:"rpl_tracenewtype",type:"reply"},211:{name:"rpl_statslinkinfo",type:"reply"},212:{name:"rpl_statscommands",type:"reply"},213:{name:"rpl_statscline",type:"reply"},214:{name:"rpl_statsnline",type:"reply"},215:{name:"rpl_statsiline",type:"reply"},216:{name:"rpl_statskline",type:"reply"},218:{name:"rpl_statsyline",type:"reply"},219:{name:"rpl_endofstats",type:"reply"},221:{name:"rpl_umodeis",type:"reply"},241:{name:"rpl_statslline",type:"reply"},242:{name:"rpl_statsuptime",type:"reply"},243:{name:"rpl_statsoline",type:"reply"},244:{name:"rpl_statshline",type:"reply"},250:{name:"rpl_statsconn",type:"reply"},251:{name:"rpl_luserclient",type:"reply"},252:{name:"rpl_luserop",type:"reply"},253:{name:"rpl_luserunknown",type:"reply"},254:{name:"rpl_luserchannels",type:"reply"},255:{name:"rpl_luserme",type:"reply"},256:{name:"rpl_adminme",type:"reply"},257:{name:"rpl_adminloc1",type:"reply"},258:{name:"rpl_adminloc2",type:"reply"},259:{name:"rpl_adminemail",type:"reply"},261:{name:"rpl_tracelog",type:"reply"},265:{name:"rpl_localusers",type:"reply"},266:{name:"rpl_globalusers",type:"reply"},300:{name:"rpl_none",type:"reply"},301:{name:"rpl_away",type:"reply"},302:{name:"rpl_userhost",type:"reply"},303:{name:"rpl_ison",type:"reply"},305:{name:"rpl_unaway",type:"reply"},306:{name:"rpl_nowaway",type:"reply"},307:{type:"reply"},311:{name:"rpl_whoisuser",type:"reply"},312:{name:"rpl_whoisserver",type:"reply"},313:{name:"rpl_whoisoperator",type:"reply"},314:{name:"rpl_whowasuser",type:"reply"},315:{name:"rpl_endofwho",type:"reply"},317:{name:"rpl_whoisidle",type:"reply"},318:{name:"rpl_endofwhois",type:"reply"},319:{name:"rpl_whoischannels",type:"reply"},321:{name:"rpl_liststart",type:"reply"},322:{name:"rpl_list",type:"reply"},323:{name:"rpl_listend",type:"reply"},324:{name:"rpl_channelmodeis",type:"reply"},329:{name:"rpl_creationtime",type:"reply"},331:{name:"rpl_notopic",type:"reply"},332:{name:"rpl_topic",type:"reply"},333:{name:"rpl_topicwhotime",type:"reply"},335:{name:"rpl_whoisbot",type:"reply"},341:{name:"rpl_inviting",type:"reply"},342:{name:"rpl_summoning",type:"reply"},351:{name:"rpl_version",type:"reply"},352:{name:"rpl_whoreply",type:"reply"},353:{name:"rpl_namreply",type:"reply"},364:{name:"rpl_links",type:"reply"},365:{name:"rpl_endoflinks",type:"reply"},366:{name:"rpl_endofnames",type:"reply"},367:{name:"rpl_banlist",type:"reply"},368:{name:"rpl_endofbanlist",type:"reply"},369:{name:"rpl_endofwhowas",type:"reply"},371:{name:"rpl_info",type:"reply"},372:{name:"rpl_motd",type:"reply"},374:{name:"rpl_endofinfo",type:"reply"},375:{name:"rpl_motdstart",type:"reply"},376:{name:"rpl_endofmotd",type:"reply"},378:{name:"rpl_whoishost",type:"reply"},379:{name:"rpl_whoismodes",type:"reply"},381:{name:"rpl_youreoper",type:"reply"},382:{name:"rpl_rehashing",type:"reply"},391:{name:"rpl_time",type:"reply"},392:{name:"rpl_usersstart",type:"reply"},393:{name:"rpl_users",type:"reply"},394:{name:"rpl_endofusers",type:"reply"},395:{name:"rpl_nousers",type:"reply"},401:{name:"err_nosuchnick",type:"error"},402:{name:"err_nosuchserver",type:"error"},403:{name:"err_nosuchchannel",type:"error"},404:{name:"err_cannotsendtochan",type:"error"},405:{name:"err_toomanychannels",type:"error"},406:{name:"err_wasnosuchnick",type:"error"},407:{name:"err_toomanytargets",type:"error"},409:{name:"err_noorigin",type:"error"},411:{name:"err_norecipient",type:"error"},412:{name:"err_notexttosend",type:"error"},413:{name:"err_notoplevel",type:"error"},414:{name:"err_wildtoplevel",type:"error"},421:{name:"err_unknowncommand",type:"error"},422:{name:"err_nomotd",type:"error"},423:{name:"err_noadmininfo",type:"error"},424:{name:"err_fileerror",type:"error"},431:{name:"err_nonicknamegiven",type:"error"},432:{name:"err_erroneusnickname",type:"error"},433:{name:"err_nicknameinuse",type:"error"},436:{name:"err_nickcollision",type:"error"},441:{name:"err_usernotinchannel",type:"error"},442:{name:"err_notonchannel",type:"error"},443:{name:"err_useronchannel",type:"error"},444:{name:"err_nologin",type:"error"},445:{name:"err_summondisabled",type:"error"},446:{name:"err_usersdisabled",type:"error"},451:{name:"err_notregistered",type:"error"},461:{name:"err_needmoreparams",type:"error"},462:{name:"err_alreadyregistred",type:"error"},463:{name:"err_nopermforhost",type:"error"},464:{name:"err_passwdmismatch",type:"error"},465:{name:"err_yourebannedcreep",type:"error"},467:{name:"err_keyset",type:"error"},471:{name:"err_channelisfull",type:"error"},472:{name:"err_unknownmode",type:"error"},473:{name:"err_inviteonlychan",type:"error"},474:{name:"err_bannedfromchan",type:"error"},475:{name:"err_badchannelkey",type:"error"},477:{type:"error"},481:{name:"err_noprivileges",type:"error"},482:{name:"err_chanoprivsneeded",type:"error"},483:{name:"err_cantkillserver",type:"error"},491:{name:"err_nooperhost",type:"error"},501:{name:"err_umodeunknownflag",type:"error"},502:{name:"err_usersdontmatch",type:"error"},671:{name:"rpl_whoissecure",type:"reply"},900:{name:"rpl_loggedin",type:"reply"},901:{name:"rpl_loggedout",type:"reply"},902:{name:"err_nicklocked",type:"error"},903:{name:"rpl_saslsuccess",type:"reply"},904:{name:"err_saslfail",type:"error"},905:{name:"err_sasltoolong",type:"error"},906:{name:"err_saslaborted",type:"error"},907:{name:"err_saslalready",type:"error"},908:{name:"rpl_saslmechs",type:"reply"}},Jn=$n,Kn=0;function Qn(e){var t=this;function r(r){e.out.debug("CyclingPingTimer "+t.timerNumber+":",r)}function n(){t.started=!1,clearTimeout(t.loopingTimeout),clearTimeout(t.pingWaitTimeout),t.loopingTimeout=null,t.pingWaitTimeout=null}function i(){t.started=!0,t.loopingTimeout=setTimeout((function(){t.loopingTimeout=null,t.emit("wantPing")}),e.opt.millisecondsOfSilenceBeforePingSent)}t.timerNumber=Kn++,t.started=!1,t.loopingTimeout=null,t.pingWaitTimeout=null,Jn.call(t),t.on("wantPing",(function(){r("server silent for too long, let's send a PING"),t.pingWaitTimeout=setTimeout((function(){t.stop(),r("ping timeout!"),t.emit("pingTimeout")}),e.opt.millisecondsBeforePingTimeout)})),t.notifyOfActivity=function(){t.started&&(n(),i())},t.stop=function(){t.started&&(r("ping timer stopped"),n())},t.start=function(){t.started?r("can't start, not stopped!"):(r("ping timer started"),i())}}In.inherits(Qn,Jn);var Zn,ei,ti=Qn,ri={exports:{}},ni=n(Yr);function ii(){if(ei)return Zn;ei=1;var e,t=ni,r=t.Buffer,n={};for(e in t)t.hasOwnProperty(e)&&"SlowBuffer"!==e&&"Buffer"!==e&&(n[e]=t[e]);var i=n.Buffer={};for(e in r)r.hasOwnProperty(e)&&"allocUnsafe"!==e&&"allocUnsafeSlow"!==e&&(i[e]=r[e]);if(n.Buffer.prototype=r.prototype,i.from&&i.from!==Uint8Array.from||(i.from=function(e,t,n){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return r(e,t,n)}),i.alloc||(i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var i=r(e);return t&&0!==t.length?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i}),!n.kStringMaxLength)try{n.kStringMaxLength=me.binding("buffer").kStringMaxLength}catch(e){}return n.constants||(n.constants={MAX_LENGTH:n.kMaxLength},n.kStringMaxLength&&(n.constants.MAX_STRING_LENGTH=n.kStringMaxLength)),Zn=n}var oi,si={};function ai(){if(oi)return si;oi=1;function e(e,t){this.encoder=e,this.addBOM=!0}function t(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}return si.PrependBOM=e,e.prototype.write=function(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)},e.prototype.end=function(){return this.encoder.end()},si.StripBOM=t,t.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t||("\ufeff"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),t},t.prototype.end=function(){return this.decoder.end()},si}var ci={},ui=sr.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function li(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!ui(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=fi;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=pi;break;default:return void(this.write=hi)}this.charBuffer=new sr(6),this.charReceived=0,this.charLength=0}function hi(e){return e.toString(this.encoding)}function fi(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function pi(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}li.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},li.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},li.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t};var di,mi,gi=n(Object.freeze({__proto__:null,StringDecoder:li}));function yi(){if(mi)return di;mi=1;var e=ii().Buffer;function t(t,r){this.enc=t.encodingName,this.bomAware=t.bomAware,"base64"===this.enc?this.encoder=o:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=s,""!==e.from("eda0bdedb2a9","hex").toString()&&(this.decoder=a,this.defaultCharUnicode=r.defaultCharUnicode))}di={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:t},t.prototype.encoder=i,t.prototype.decoder=n;var r=gi.StringDecoder;function n(e,t){this.decoder=new r(t.enc)}function i(e,t){this.enc=t.enc}function o(e,t){this.prevStr=""}function s(e,t){}function a(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}return r.prototype.end||(r.prototype.end=function(){}),n.prototype.write=function(t){return e.isBuffer(t)||(t=e.from(t)),this.decoder.write(t)},n.prototype.end=function(){return this.decoder.end()},i.prototype.write=function(t){return e.from(t,this.enc)},i.prototype.end=function(){},o.prototype.write=function(t){var r=(t=this.prevStr+t).length-t.length%4;return this.prevStr=t.slice(r),t=t.slice(0,r),e.from(t,"base64")},o.prototype.end=function(){return e.from(this.prevStr,"base64")},s.prototype.write=function(t){for(var r=e.alloc(3*t.length),n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=192+(o>>>6),r[n++]=128+(63&o)):(r[n++]=224+(o>>>12),r[n++]=128+(o>>>6&63),r[n++]=128+(63&o))}return r.slice(0,n)},s.prototype.end=function(){},a.prototype.write=function(e){for(var t=this.acc,r=this.contBytes,n=this.accBytes,i="",o=0;o<e.length;o++){var s=e[o];128!=(192&s)?(r>0&&(i+=this.defaultCharUnicode,r=0),s<128?i+=String.fromCharCode(s):s<224?(t=31&s,r=1,n=1):s<240?(t=15&s,r=2,n=1):i+=this.defaultCharUnicode):r>0?(t=t<<6|63&s,n++,0===--r&&(i+=2===n&&t<128&&t>0||3===n&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=r,this.accBytes=n,i},a.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e},di}var bi,wi={};function vi(){if(bi)return wi;bi=1;var e=ii().Buffer;function t(e,t){this.iconv=t,this.bomAware=!0,this.isLE=e.isLE}function r(e,t){this.isLE=t.isLE,this.highSurrogate=0}function n(e,t){this.isLE=t.isLE,this.badChar=t.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}function i(e,t,r,n){if((r<0||r>1114111)&&(r=n),r>=65536){var i=55296|(r-=65536)>>10;e[t++]=255&i,e[t++]=i>>8;r=56320|1023&r}return e[t++]=255&r,e[t++]=r>>8,t}function o(e,t){this.iconv=t}function s(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder(e.defaultEncoding||"utf-32le",e)}function a(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function c(e,t){var r=[],n=0,i=0,o=0,s=0,a=0;e:for(var c=0;c<e.length;c++)for(var u=e[c],l=0;l<u.length;l++)if(r.push(u[l]),4===r.length){if(0===n){if(255===r[0]&&254===r[1]&&0===r[2]&&0===r[3])return"utf-32le";if(0===r[0]&&0===r[1]&&254===r[2]&&255===r[3])return"utf-32be"}if((0!==r[0]||r[1]>16)&&o++,(0!==r[3]||r[2]>16)&&i++,0!==r[0]||0!==r[1]||0===r[2]&&0===r[3]||a++,0===r[0]&&0===r[1]||0!==r[2]||0!==r[3]||s++,r.length=0,++n>=100)break e}return a-o>s-i?"utf-32be":a-o<s-i?"utf-32le":t||"utf-32le"}return wi._utf32=t,wi.utf32le={type:"_utf32",isLE:!0},wi.utf32be={type:"_utf32",isLE:!1},wi.ucs4le="utf32le",wi.ucs4be="utf32be",t.prototype.encoder=r,t.prototype.decoder=n,r.prototype.write=function(t){for(var r=e.from(t,"ucs2"),n=e.alloc(2*r.length),i=this.isLE?n.writeUInt32LE:n.writeUInt32BE,o=0,s=0;s<r.length;s+=2){var a=r.readUInt16LE(s),c=55296<=a&&a<56320,u=56320<=a&&a<57344;if(this.highSurrogate){if(!c&&u){var l=65536+(this.highSurrogate-55296<<10|a-56320);i.call(n,l,o),o+=4,this.highSurrogate=0;continue}i.call(n,this.highSurrogate,o),o+=4}c?this.highSurrogate=a:(i.call(n,a,o),o+=4,this.highSurrogate=0)}return o<n.length&&(n=n.slice(0,o)),n},r.prototype.end=function(){if(this.highSurrogate){var t=e.alloc(4);return this.isLE?t.writeUInt32LE(this.highSurrogate,0):t.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,t}},n.prototype.write=function(t){if(0===t.length)return"";var r=0,n=0,o=e.alloc(t.length+4),s=0,a=this.isLE,c=this.overflow,u=this.badChar;if(c.length>0){for(;r<t.length&&c.length<4;r++)c.push(t[r]);4===c.length&&(n=a?c[r]|c[r+1]<<8|c[r+2]<<16|c[r+3]<<24:c[r+3]|c[r+2]<<8|c[r+1]<<16|c[r]<<24,c.length=0,s=i(o,s,n,u))}for(;r<t.length-3;r+=4)s=i(o,s,n=a?t[r]|t[r+1]<<8|t[r+2]<<16|t[r+3]<<24:t[r+3]|t[r+2]<<8|t[r+1]<<16|t[r]<<24,u);for(;r<t.length;r++)c.push(t[r]);return o.slice(0,s).toString("ucs2")},n.prototype.end=function(){this.overflow.length=0},wi.utf32=o,wi.ucs4="utf32",o.prototype.encoder=s,o.prototype.decoder=a,s.prototype.write=function(e){return this.encoder.write(e)},s.prototype.end=function(){return this.encoder.end()},a.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<32)return"";var t=c(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var r="",n=0;n<this.initialBufs.length;n++)r+=this.decoder.write(this.initialBufs[n]);return this.initialBufs.length=this.initialBufsLen=0,r}return this.decoder.write(e)},a.prototype.end=function(){if(!this.decoder){var e=c(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",r=0;r<this.initialBufs.length;r++)t+=this.decoder.write(this.initialBufs[r]);var n=this.decoder.end();return n&&(t+=n),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()},wi}var _i,Ei={};function ki(){if(_i)return Ei;_i=1;var e=ii().Buffer;function t(){}function r(){}function n(){this.overflowByte=-1}function i(e,t){this.iconv=t}function o(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function s(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function a(e,t){var r=[],n=0,i=0,o=0;e:for(var s=0;s<e.length;s++)for(var a=e[s],c=0;c<a.length;c++)if(r.push(a[c]),2===r.length){if(0===n){if(255===r[0]&&254===r[1])return"utf-16le";if(254===r[0]&&255===r[1])return"utf-16be"}if(0===r[0]&&0!==r[1]&&o++,0!==r[0]&&0===r[1]&&i++,r.length=0,++n>=100)break e}return o>i?"utf-16be":o<i?"utf-16le":t||"utf-16le"}return Ei.utf16be=t,t.prototype.encoder=r,t.prototype.decoder=n,t.prototype.bomAware=!0,r.prototype.write=function(t){for(var r=e.from(t,"ucs2"),n=0;n<r.length;n+=2){var i=r[n];r[n]=r[n+1],r[n+1]=i}return r},r.prototype.end=function(){},n.prototype.write=function(t){if(0==t.length)return"";var r=e.alloc(t.length+1),n=0,i=0;for(-1!==this.overflowByte&&(r[0]=t[0],r[1]=this.overflowByte,n=1,i=2);n<t.length-1;n+=2,i+=2)r[i]=t[n+1],r[i+1]=t[n];return this.overflowByte=n==t.length-1?t[t.length-1]:-1,r.slice(0,i).toString("ucs2")},n.prototype.end=function(){this.overflowByte=-1},Ei.utf16=i,i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){return this.encoder.write(e)},o.prototype.end=function(){return this.encoder.end()},s.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<16)return"";var t=a(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var r="",n=0;n<this.initialBufs.length;n++)r+=this.decoder.write(this.initialBufs[n]);return this.initialBufs.length=this.initialBufsLen=0,r}return this.decoder.write(e)},s.prototype.end=function(){if(!this.decoder){var e=a(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",r=0;r<this.initialBufs.length;r++)t+=this.decoder.write(this.initialBufs[r]);var n=this.decoder.end();return n&&(t+=n),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()},Ei}var Si,xi={};function Ci(){if(Si)return xi;Si=1;var e=ii().Buffer;function t(e,t){this.iconv=t}xi.utf7=t,xi.unicode11utf7="utf7",t.prototype.encoder=n,t.prototype.decoder=i,t.prototype.bomAware=!0;var r=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function n(e,t){this.iconv=t.iconv}function i(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}n.prototype.write=function(t){return e.from(t.replace(r,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},n.prototype.end=function(){};for(var o=/[A-Za-z0-9\/+]/,s=[],a=0;a<256;a++)s[a]=o.test(String.fromCharCode(a));var c="+".charCodeAt(0),u="-".charCodeAt(0),l="&".charCodeAt(0);function h(e,t){this.iconv=t}function f(t,r){this.iconv=r.iconv,this.inBase64=!1,this.base64Accum=e.alloc(6),this.base64AccumIdx=0}function p(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}i.prototype.write=function(t){for(var r="",n=0,i=this.inBase64,o=this.base64Accum,a=0;a<t.length;a++)if(i){if(!s[t[a]]){if(a==n&&t[a]==u)r+="+";else{var l=o+this.iconv.decode(t.slice(n,a),"ascii");r+=this.iconv.decode(e.from(l,"base64"),"utf16-be")}t[a]!=u&&a--,n=a+1,i=!1,o=""}}else t[a]==c&&(r+=this.iconv.decode(t.slice(n,a),"ascii"),n=a+1,i=!0);if(i){var h=(l=o+this.iconv.decode(t.slice(n),"ascii")).length-l.length%8;o=l.slice(h),l=l.slice(0,h),r+=this.iconv.decode(e.from(l,"base64"),"utf16-be")}else r+=this.iconv.decode(t.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,r},i.prototype.end=function(){var t="";return this.inBase64&&this.base64Accum.length>0&&(t=this.iconv.decode(e.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",t},xi.utf7imap=h,h.prototype.encoder=f,h.prototype.decoder=p,h.prototype.bomAware=!0,f.prototype.write=function(t){for(var r=this.inBase64,n=this.base64Accum,i=this.base64AccumIdx,o=e.alloc(5*t.length+10),s=0,a=0;a<t.length;a++){var c=t.charCodeAt(a);32<=c&&c<=126?(r&&(i>0&&(s+=o.write(n.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),s),i=0),o[s++]=u,r=!1),r||(o[s++]=c,c===l&&(o[s++]=u))):(r||(o[s++]=l,r=!0),r&&(n[i++]=c>>8,n[i++]=255&c,i==n.length&&(s+=o.write(n.toString("base64").replace(/\//g,","),s),i=0)))}return this.inBase64=r,this.base64AccumIdx=i,o.slice(0,s)},f.prototype.end=function(){var t=e.alloc(10),r=0;return this.inBase64&&(this.base64AccumIdx>0&&(r+=t.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),r),this.base64AccumIdx=0),t[r++]=u,this.inBase64=!1),t.slice(0,r)};var d=s.slice();return d[",".charCodeAt(0)]=!0,p.prototype.write=function(t){for(var r="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<t.length;s++)if(i){if(!d[t[s]]){if(s==n&&t[s]==u)r+="&";else{var a=o+this.iconv.decode(t.slice(n,s),"ascii").replace(/,/g,"/");r+=this.iconv.decode(e.from(a,"base64"),"utf16-be")}t[s]!=u&&s--,n=s+1,i=!1,o=""}}else t[s]==l&&(r+=this.iconv.decode(t.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var c=(a=o+this.iconv.decode(t.slice(n),"ascii").replace(/,/g,"/")).length-a.length%8;o=a.slice(c),a=a.slice(0,c),r+=this.iconv.decode(e.from(a,"base64"),"utf16-be")}else r+=this.iconv.decode(t.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,r},p.prototype.end=function(){var t="";return this.inBase64&&this.base64Accum.length>0&&(t=this.iconv.decode(e.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",t},xi}var Ti,Oi,Ai,Li,Pi,ji={};function Ri(){if(Ti)return ji;Ti=1;var e=ii().Buffer;function t(t,r){if(!t)throw new Error("SBCS codec is called without the data.");if(!t.chars||128!==t.chars.length&&256!==t.chars.length)throw new Error("Encoding '"+t.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===t.chars.length){for(var n="",i=0;i<128;i++)n+=String.fromCharCode(i);t.chars=n+t.chars}this.decodeBuf=e.from(t.chars,"ucs2");var o=e.alloc(65536,r.defaultCharSingleByte.charCodeAt(0));for(i=0;i<t.chars.length;i++)o[t.chars.charCodeAt(i)]=i;this.encodeBuf=o}function r(e,t){this.encodeBuf=t.encodeBuf}function n(e,t){this.decodeBuf=t.decodeBuf}return ji._sbcs=t,t.prototype.encoder=r,t.prototype.decoder=n,r.prototype.write=function(t){for(var r=e.alloc(t.length),n=0;n<t.length;n++)r[n]=this.encodeBuf[t.charCodeAt(n)];return r},r.prototype.end=function(){},n.prototype.write=function(t){for(var r=this.decodeBuf,n=e.alloc(2*t.length),i=0,o=0,s=0;s<t.length;s++)i=2*t[s],n[o=2*s]=r[i],n[o+1]=r[i+1];return n.toString("ucs2")},n.prototype.end=function(){},ji}var Bi,Mi={};function Ii(){if(Bi)return Mi;Bi=1;var e=ii().Buffer;Mi._dbcs=a;for(var t=-1,r=-2,n=-10,i=-1e3,o=new Array(256),s=0;s<256;s++)o[s]=t;function a(e,n){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var s=e.table();this.decodeTables=[],this.decodeTables[0]=o.slice(0),this.decodeTableSeq=[];for(var a=0;a<s.length;a++)this._addDecodeChunk(s[a]);if("function"==typeof e.gb18030){this.gb18030=e.gb18030();var c=this.decodeTables.length;this.decodeTables.push(o.slice(0));var u=this.decodeTables.length;this.decodeTables.push(o.slice(0));var l=this.decodeTables[0];for(a=129;a<=254;a++)for(var h=this.decodeTables[i-l[a]],f=48;f<=57;f++){if(h[f]===t)h[f]=i-c;else if(h[f]>i)throw new Error("gb18030 decode tables conflict at byte 2");for(var p=this.decodeTables[i-h[f]],d=129;d<=254;d++){if(p[d]===t)p[d]=i-u;else{if(p[d]===i-u)continue;if(p[d]>i)throw new Error("gb18030 decode tables conflict at byte 3")}for(var m=this.decodeTables[i-p[d]],g=48;g<=57;g++)m[g]===t&&(m[g]=r)}}}this.defaultCharUnicode=n.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var y={};if(e.encodeSkipVals)for(a=0;a<e.encodeSkipVals.length;a++){var b=e.encodeSkipVals[a];if("number"==typeof b)y[b]=!0;else for(f=b.from;f<=b.to;f++)y[f]=!0}if(this._fillEncodeTable(0,0,y),e.encodeAdd)for(var w in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,w)&&this._setEncodeChar(w.charCodeAt(0),e.encodeAdd[w]);this.defCharSB=this.encodeTable[0][n.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===t&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===t&&(this.defCharSB="?".charCodeAt(0))}function c(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function u(e,t){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function l(e,t){if(e[0]>t)return-1;for(var r=0,n=e.length;r<n-1;){var i=r+(n-r+1>>1);e[i]<=t?r=i:n=i}return r}return a.prototype.encoder=c,a.prototype.decoder=u,a.prototype._getDecodeTrieNode=function(e){for(var r=[];e>0;e>>>=8)r.push(255&e);0==r.length&&r.push(0);for(var n=this.decodeTables[0],s=r.length-1;s>0;s--){var a=n[r[s]];if(a==t)n[r[s]]=i-this.decodeTables.length,this.decodeTables.push(n=o.slice(0));else{if(!(a<=i))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));n=this.decodeTables[i-a]}}return n},a.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),r=this._getDecodeTrieNode(t);t&=255;for(var i=1;i<e.length;i++){var o=e[i];if("string"==typeof o)for(var s=0;s<o.length;){var a=o.charCodeAt(s++);if(55296<=a&&a<56320){var c=o.charCodeAt(s++);if(!(56320<=c&&c<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);r[t++]=65536+1024*(a-55296)+(c-56320)}else if(4080<a&&a<=4095){for(var u=4095-a+2,l=[],h=0;h<u;h++)l.push(o.charCodeAt(s++));r[t++]=n-this.decodeTableSeq.length,this.decodeTableSeq.push(l)}else r[t++]=a}else{if("number"!=typeof o)throw new Error("Incorrect type '"+typeof o+"' given in "+this.encodingName+" at chunk "+e[0]);var f=r[t-1]+1;for(s=0;s<o;s++)r[t++]=f++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},a.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=o.slice(0)),this.encodeTable[t]},a.prototype._setEncodeChar=function(e,r){var i=this._getEncodeBucket(e),o=255&e;i[o]<=n?this.encodeTableSeq[n-i[o]][-1]=r:i[o]==t&&(i[o]=r)},a.prototype._setEncodeSequence=function(e,r){var i,o=e[0],s=this._getEncodeBucket(o),a=255&o;s[a]<=n?i=this.encodeTableSeq[n-s[a]]:(i={},s[a]!==t&&(i[-1]=s[a]),s[a]=n-this.encodeTableSeq.length,this.encodeTableSeq.push(i));for(var c=1;c<e.length-1;c++){var u=i[o];"object"==typeof u?i=u:(i=i[o]={},void 0!==u&&(i[-1]=u))}i[o=e[e.length-1]]=r},a.prototype._fillEncodeTable=function(e,t,r){for(var o=this.decodeTables[e],s=!1,a={},c=0;c<256;c++){var u=o[c],l=t+c;if(!r[l])if(u>=0)this._setEncodeChar(u,l),s=!0;else if(u<=i){var h=i-u;if(!a[h]){var f=l<<8>>>0;this._fillEncodeTable(h,f,r)?s=!0:a[h]=!0}}else u<=n&&(this._setEncodeSequence(this.decodeTableSeq[n-u],l),s=!0)}return s},c.prototype.write=function(r){for(var i=e.alloc(r.length*(this.gb18030?4:3)),o=this.leadSurrogate,s=this.seqObj,a=-1,c=0,u=0;;){if(-1===a){if(c==r.length)break;var h=r.charCodeAt(c++)}else{h=a;a=-1}if(55296<=h&&h<57344)if(h<56320){if(-1===o){o=h;continue}o=h,h=t}else-1!==o?(h=65536+1024*(o-55296)+(h-56320),o=-1):h=t;else-1!==o&&(a=h,h=t,o=-1);var f=t;if(void 0!==s&&h!=t){var p=s[h];if("object"==typeof p){s=p;continue}"number"==typeof p?f=p:null==p&&void 0!==(p=s[-1])&&(f=p,a=h),s=void 0}else if(h>=0){var d=this.encodeTable[h>>8];if(void 0!==d&&(f=d[255&h]),f<=n){s=this.encodeTableSeq[n-f];continue}if(f==t&&this.gb18030){var m=l(this.gb18030.uChars,h);if(-1!=m){f=this.gb18030.gbChars[m]+(h-this.gb18030.uChars[m]);i[u++]=129+Math.floor(f/12600),f%=12600,i[u++]=48+Math.floor(f/1260),f%=1260,i[u++]=129+Math.floor(f/10),f%=10,i[u++]=48+f;continue}}}f===t&&(f=this.defaultCharSingleByte),f<256?i[u++]=f:f<65536?(i[u++]=f>>8,i[u++]=255&f):f<16777216?(i[u++]=f>>16,i[u++]=f>>8&255,i[u++]=255&f):(i[u++]=f>>>24,i[u++]=f>>>16&255,i[u++]=f>>>8&255,i[u++]=255&f)}return this.seqObj=s,this.leadSurrogate=o,i.slice(0,u)},c.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var t=e.alloc(10),r=0;if(this.seqObj){var n=this.seqObj[-1];void 0!==n&&(n<256?t[r++]=n:(t[r++]=n>>8,t[r++]=255&n)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(t[r++]=this.defaultCharSingleByte,this.leadSurrogate=-1),t.slice(0,r)}},c.prototype.findIdx=l,u.prototype.write=function(o){for(var s=e.alloc(2*o.length),a=this.nodeIdx,c=this.prevBytes,u=this.prevBytes.length,h=-this.prevBytes.length,f=0,p=0;f<o.length;f++){var d,m=f>=0?o[f]:c[f+u];if((d=this.decodeTables[a][m])>=0);else if(d===t)d=this.defaultCharUnicode.charCodeAt(0),f=h;else if(d===r){if(f>=3)var g=12600*(o[f-3]-129)+1260*(o[f-2]-48)+10*(o[f-1]-129)+(m-48);else g=12600*(c[f-3+u]-129)+1260*((f-2>=0?o[f-2]:c[f-2+u])-48)+10*((f-1>=0?o[f-1]:c[f-1+u])-129)+(m-48);var y=l(this.gb18030.gbChars,g);d=this.gb18030.uChars[y]+g-this.gb18030.gbChars[y]}else{if(d<=i){a=i-d;continue}if(!(d<=n))throw new Error("iconv-lite internal error: invalid decoding table value "+d+" at "+a+"/"+m);for(var b=this.decodeTableSeq[n-d],w=0;w<b.length-1;w++)d=b[w],s[p++]=255&d,s[p++]=d>>8;d=b[b.length-1]}if(d>=65536){var v=55296|(d-=65536)>>10;s[p++]=255&v,s[p++]=v>>8,d=56320|1023&d}s[p++]=255&d,s[p++]=d>>8,a=0,h=f+1}return this.nodeIdx=a,this.prevBytes=h>=0?Array.prototype.slice.call(o,h):c.slice(h+u).concat(Array.prototype.slice.call(o)),s.slice(0,p).toString("ucs2")},u.prototype.end=function(){for(var e="";this.prevBytes.length>0;){e+=this.defaultCharUnicode;var t=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.prevBytes=[],this.nodeIdx=0,e},Mi}var Di,Ni,Ui,qi,Fi,zi=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]],Wi=[["0","\0",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]],$i=[["0","\0",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]],Yi=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]],Xi={uChars:[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],gbChars:[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3]},Hi=[["0","\0",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]],Vi=[["0","\0",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]],Gi=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]];function Ji(){if(Fi)return qi;Fi=1;var e=ii().Buffer;return qi=function(t){var r=t.Transform;function n(e,t){this.conv=e,(t=t||{}).decodeStrings=!1,r.call(this,t)}function i(e,t){this.conv=e,(t=t||{}).encoding=this.encoding="utf8",r.call(this,t)}return n.prototype=Object.create(r.prototype,{constructor:{value:n}}),n.prototype._transform=function(e,t,r){if("string"!=typeof e)return r(new Error("Iconv encoding stream needs strings as its input."));try{var n=this.conv.write(e);n&&n.length&&this.push(n),r()}catch(e){r(e)}},n.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},n.prototype.collect=function(t){var r=[];return this.on("error",t),this.on("data",(function(e){r.push(e)})),this.on("end",(function(){t(null,e.concat(r))})),this},i.prototype=Object.create(r.prototype,{constructor:{value:i}}),i.prototype._transform=function(t,r,n){if(!(e.isBuffer(t)||t instanceof Uint8Array))return n(new Error("Iconv decoding stream needs buffers as its input."));try{var i=this.conv.write(t);i&&i.length&&this.push(i,this.encoding),n()}catch(e){n(e)}},i.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},i.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",(function(e){t+=e})),this.on("end",(function(){e(null,t)})),this},{IconvLiteEncoderStream:n,IconvLiteDecoderStream:i}},qi}function Ki(){this.head=null,this.tail=null,this.length=0}Ki.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},Ki.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},Ki.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},Ki.prototype.clear=function(){this.head=this.tail=null,this.length=0},Ki.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},Ki.prototype.concat=function(e){if(0===this.length)return sr.alloc(0);if(1===this.length)return this.head.data;for(var t=sr.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t},eo.ReadableState=Zi;var Qi=rn("stream");function Zi(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof Ao&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new Ki,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new li(e.encoding),this.encoding=e.encoding)}function eo(e){if(!(this instanceof eo))return new eo(e);this._readableState=new Zi(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),Nn.call(this)}function to(e,t,r,n,i){var o=function(e,t){var r=null;sr.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(o)e.emit("error",o);else if(null===r)t.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,io(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var c;!t.decoder||i||n||(r=t.decoder.write(r),c=!t.objectMode&&0===r.length),i||(t.reading=!1),c||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&io(e))),function(e,t){t.readingMore||(t.readingMore=!0,B(so,e,t))}(e,t)}else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}Gr(eo,Nn),eo.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)!==r.encoding&&(e=sr.from(e,t),t=""),to(this,r,e,t,!1)},eo.prototype.unshift=function(e){return to(this,this._readableState,e,"",!0)},eo.prototype.isPaused=function(){return!1===this._readableState.flowing},eo.prototype.setEncoding=function(e){return this._readableState.decoder=new li(e),this._readableState.encoding=e,this};var ro=8388608;function no(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=ro?e=ro:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function io(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Qi("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?B(oo,e):oo(e))}function oo(e){Qi("emit readable"),e.emit("readable"),uo(e)}function so(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Qi("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function ao(e){Qi("readable nexttick read 0"),e.read(0)}function co(e,t){t.reading||(Qi("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),uo(e),t.flowing&&!t.reading&&e.read(0)}function uo(e){var t=e._readableState;for(Qi("flow",t.flowing);t.flowing&&null!==e.read(););}function lo(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=sr.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function ho(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,B(fo,t,e))}function fo(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function po(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function mo(){}function go(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function yo(e,t){Object.defineProperty(this,"buffer",{get:Zr((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof Ao&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?B(i,n):i(n);e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,i);else{var o=Eo(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||_o(e,r),n?B(vo,e,r,o,i):vo(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new xo(this)}function bo(e){if(!(this instanceof bo||this instanceof Ao))return new bo(e);this._writableState=new yo(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),Nn.call(this)}function wo(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function vo(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),So(e,t)}function _o(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0;r;)i[s]=r,r=r.next,s+=1;wo(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new xo(t)}else{for(;r;){var a=r.chunk,c=r.encoding,u=r.callback;if(wo(e,t,!1,t.objectMode?1:a.length,a,c,u),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function Eo(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function ko(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function So(e,t){var r=Eo(t);return r&&(0===t.pendingcb?(ko(e,t),t.finished=!0,e.emit("finish")):ko(e,t)),r}function xo(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}eo.prototype.read=function(e){Qi("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Qi("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?ho(this):io(this),null;if(0===(e=no(e,t))&&t.ended)return 0===t.length&&ho(this),null;var n,i=t.needReadable;return Qi("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&Qi("length less than watermark",i=!0),t.ended||t.reading?Qi("reading or ended",i=!1):i&&(Qi("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=no(r,t))),null===(n=e>0?lo(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ho(this)),null!==n&&this.emit("data",n),n},eo.prototype._read=function(e){this.emit("error",new Error("not implemented"))},eo.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,Qi("pipe count=%d opts=%j",n.pipesCount,t);var i=!t||!1!==t.end?s:u;function o(e){Qi("onunpipe"),e===r&&u()}function s(){Qi("onend"),e.end()}n.endEmitted?B(i):r.once("end",i),e.on("unpipe",o);var a=function(e){return function(){var t=e._readableState;Qi("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,uo(e))}}(r);e.on("drain",a);var c=!1;function u(){Qi("cleanup"),e.removeListener("close",p),e.removeListener("finish",d),e.removeListener("drain",a),e.removeListener("error",f),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",u),r.removeListener("data",h),c=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||a()}var l=!1;function h(t){Qi("ondata"),l=!1,!1!==e.write(t)||l||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==po(n.pipes,e))&&!c&&(Qi("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,l=!0),r.pause())}function f(t){var r;Qi("onerror",t),m(),e.removeListener("error",f),0===(r="error",e.listeners(r).length)&&e.emit("error",t)}function p(){e.removeListener("finish",d),m()}function d(){Qi("onfinish"),e.removeListener("close",p),m()}function m(){Qi("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",d),e.emit("pipe",r),n.flowing||(Qi("pipe resume"),r.resume()),e},eo.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=po(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},eo.prototype.on=function(e,t){var r=Nn.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&io(this):B(ao,this))}return r},eo.prototype.addListener=eo.prototype.on,eo.prototype.resume=function(){var e=this._readableState;return e.flowing||(Qi("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,B(co,e,t))}(this,e)),this},eo.prototype.pause=function(){return Qi("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Qi("pause"),this._readableState.flowing=!1,this.emit("pause")),this},eo.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(Qi("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){(Qi("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){Qi("wrapped _read",t),r&&(r=!1,e.resume())},n},eo._fromList=lo,bo.WritableState=yo,Gr(bo,Nn),yo.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},bo.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},bo.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),sr.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=mo),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),B(t,r)}(this,r):function(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):sr.isBuffer(r)||"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),B(n,o),i=!1),i}(this,n,e,r)&&(n.pendingcb++,i=function(e,t,r,n,i){r=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=sr.from(t,r));return t}(t,r,n),sr.isBuffer(r)&&(n="buffer");var o=t.objectMode?1:r.length;t.length+=o;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);if(t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new go(r,n,i),a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else wo(e,t,!1,o,r,n,i);return s}(this,n,e,t,r)),i},bo.prototype.cork=function(){this._writableState.corked++},bo.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_o(this,e))},bo.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},bo.prototype._write=function(e,t,r){r(new Error("not implemented"))},bo.prototype._writev=null,bo.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,So(e,t),r&&(t.finished?B(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Gr(Ao,eo);for(var Co=Object.keys(bo.prototype),To=0;To<Co.length;To++){var Oo=Co[To];Ao.prototype[Oo]||(Ao.prototype[Oo]=bo.prototype[Oo])}function Ao(e){if(!(this instanceof Ao))return new Ao(e);eo.call(this,e),bo.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",Lo)}function Lo(){this.allowHalfOpen||this._writableState.ended||B(Po,this)}function Po(e){e.end()}function jo(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r);i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Ro(e){if(!(this instanceof Ro))return new Ro(e);Ao.call(this,e),this._transformState=new jo(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e){Bo(t,e)})):Bo(t)}))}function Bo(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function Mo(e){if(!(this instanceof Mo))return new Mo(e);Ro.call(this,e)}function Io(){Nn.call(this)}Gr(Ro,Ao),Ro.prototype.push=function(e,t){return this._transformState.needTransform=!1,Ao.prototype.push.call(this,e,t)},Ro.prototype._transform=function(e,t,r){throw new Error("Not implemented")},Ro.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Ro.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Gr(Mo,Ro),Mo.prototype._transform=function(e,t,r){r(null,e)},Gr(Io,Nn),Io.Readable=eo,Io.Writable=bo,Io.Duplex=Ao,Io.Transform=Ro,Io.PassThrough=Mo,Io.Stream=Io,Io.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===Nn.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",c),e.on("error",c),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};var Do,No=n(Object.freeze({__proto__:null,Duplex:Ao,PassThrough:Mo,Readable:eo,Stream:Io,Transform:Ro,Writable:bo,default:Io}));function Uo(){return Do||(Do=1,function(e){var t,r=ii().Buffer,n=ai(),i=e.exports;i.encodings=null,i.defaultCharUnicode="",i.defaultCharSingleByte="?",i.encode=function(e,t,n){e=""+(e||"");var o=i.getEncoder(t,n),s=o.write(e),a=o.end();return a&&a.length>0?r.concat([s,a]):s},i.decode=function(e,t,n){"string"==typeof e&&(i.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),i.skipDecodeWarning=!0),e=r.from(""+(e||""),"binary"));var o=i.getDecoder(t,n),s=o.write(e),a=o.end();return a?s+a:s},i.encodingExists=function(e){try{return i.getCodec(e),!0}catch(e){return!1}},i.toEncoding=i.encode,i.fromEncoding=i.decode,i._codecDataCache={},i.getCodec=function(e){i.encodings||(i.encodings=(Ui||(Ui=1,function(e){for(var t=[yi(),vi(),ki(),Ci(),Ri(),Ai?Oi:(Ai=1,Oi={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}),Pi?Li:(Pi=1,Li={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}),Ii(),Ni?Di:(Ni=1,Di={shiftjis:{type:"_dbcs",table:function(){return zi},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return Wi},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return $i}},gbk:{type:"_dbcs",table:function(){return $i.concat(Yi)}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return $i.concat(Yi)},gb18030:function(){return Xi},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return Hi}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return Vi}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return Vi.concat(Gi)},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"})],r=0;r<t.length;r++){var n=t[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}}(ci)),ci));for(var t=i._canonicalizeEncoding(e),r={};;){var n=i._codecDataCache[t];if(n)return n;var o=i.encodings[t];switch(typeof o){case"string":t=o;break;case"object":for(var s in o)r[s]=o[s];r.encodingName||(r.encodingName=t),t=o.type;break;case"function":return r.encodingName||(r.encodingName=t),n=new o(r,i),i._codecDataCache[r.encodingName]=n,n;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},i._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},i.getEncoder=function(e,t){var r=i.getCodec(e),o=new r.encoder(t,r);return r.bomAware&&t&&t.addBOM&&(o=new n.PrependBOM(o,t)),o},i.getDecoder=function(e,t){var r=i.getCodec(e),o=new r.decoder(t,r);return!r.bomAware||t&&!1===t.stripBOM||(o=new n.StripBOM(o,t)),o},i.enableStreamingAPI=function(e){if(!i.supportsStreams){var t=Ji()(e);i.IconvLiteEncoderStream=t.IconvLiteEncoderStream,i.IconvLiteDecoderStream=t.IconvLiteDecoderStream,i.encodeStream=function(e,t){return new i.IconvLiteEncoderStream(i.getEncoder(e,t),t)},i.decodeStream=function(e,t){return new i.IconvLiteDecoderStream(i.getDecoder(e,t),t)},i.supportsStreams=!0}};try{t=No}catch(e){}t&&t.Transform?i.enableStreamingAPI(t):i.encodeStream=i.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}}(ri)),ri.exports}var qo,Fo={},zo={};var Wo,$o,Yo={},Xo={};function Ho(){return Wo||(Wo=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.default=(e,t,r)=>({confidence:r,name:t.name(e),lang:t.language?t.language():void 0})),Xo}var Vo,Go={};function Jo(){if(Vo)return Go;Vo=1;var e=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Go,"__esModule",{value:!0}),Go.UTF_32LE=Go.UTF_32BE=Go.UTF_16LE=Go.UTF_16BE=void 0;const r=e(Ho());Go.UTF_16BE=class{name(){return"UTF-16BE"}match(e){const t=e.rawInput;return t.length>=2&&254==(255&t[0])&&255==(255&t[1])?(0,r.default)(e,this,100):null}};Go.UTF_16LE=class{name(){return"UTF-16LE"}match(e){const t=e.rawInput;return t.length>=2&&255==(255&t[0])&&254==(255&t[1])?t.length>=4&&0==t[2]&&0==t[3]?null:(0,r.default)(e,this,100):null}};class n{name(){return"UTF-32"}getChar(e,t){return-1}match(e){let t=0,n=0,i=!1,o=0;const s=e.rawLen/4*4,a=e.rawInput;if(0==s)return null;65279==this.getChar(a,0)&&(i=!0);for(let e=0;e<s;e+=4){const r=this.getChar(a,e);r<0||r>=1114111||r>=55296&&r<=57343?n+=1:t+=1}return i&&0==n?o=100:i&&t>10*n?o=80:t>3&&0==n?o=100:t>0&&0==n?o=80:t>10*n&&(o=25),0==o?null:(0,r.default)(e,this,o)}}Go.UTF_32BE=class extends n{name(){return"UTF-32BE"}getChar(e,t){return(255&e[t+0])<<24|(255&e[t+1])<<16|(255&e[t+2])<<8|255&e[t+3]}};return Go.UTF_32LE=class extends n{name(){return"UTF-32LE"}getChar(e,t){return(255&e[t+3])<<24|(255&e[t+2])<<16|(255&e[t+1])<<8|255&e[t+0]}},Go}var Ko,Qo={};function Zo(){if(Ko)return Qo;Ko=1;var e=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.gb_18030=Qo.euc_kr=Qo.euc_jp=Qo.big5=Qo.sjis=void 0;const r=e(Ho());function n(e,t){const r=(e,t,n,i)=>{if(i<n)return-1;const o=Math.floor(n+i>>>1);return t>e[o]?r(e,t,o+1,i):t<e[o]?r(e,t,n,o-1):o};return r(e,t,0,e.length-1)}class i{constructor(){this.charValue=0,this.index=0,this.nextIndex=0,this.error=!1,this.done=!1}reset(){this.charValue=0,this.index=-1,this.nextIndex=0,this.error=!1,this.done=!1}nextByte(e){if(this.nextIndex>=e.rawLen)return this.done=!0,-1;return 255&e.rawInput[this.nextIndex++]}}let o=class{constructor(){this.commonChars=[]}name(){return"mbcs"}match(e){let t=0,o=0,s=0,a=0,c=0;const u=new i;e:{for(u.reset();this.nextChar(u,e);){if(a++,u.error)s++;else{const e=4294967295&u.charValue;e>255&&(t++,null!=this.commonChars&&n(this.commonChars,e)>=0&&o++)}if(s>=2&&5*s>=t)break e}if(t<=10&&0==s)c=0==t&&a<10?0:10;else if(t<20*s)c=0;else if(null==this.commonChars)c=30+t-20*s,c>100&&(c=100);else{const e=90/Math.log(t/4);c=Math.floor(Math.log(o+1)*e+10),c=Math.min(c,100)}}return 0==c?null:(0,r.default)(e,this,c)}nextChar(e,t){return!0}};Qo.sjis=class extends o{constructor(){super(...arguments),this.commonChars=[33088,33089,33090,33093,33115,33129,33130,33141,33142,33440,33442,33444,33449,33450,33451,33453,33455,33457,33459,33461,33463,33469,33470,33473,33476,33477,33478,33480,33481,33484,33485,33500,33504,33511,33512,33513,33514,33520,33521,33601,33603,33614,33615,33624,33630,33634,33639,33653,33654,33673,33674,33675,33677,33683,36502,37882,38314]}name(){return"Shift_JIS"}language(){return"ja"}nextChar(e,t){e.index=e.nextIndex,e.error=!1;const r=e.charValue=e.nextByte(t);if(r<0)return!1;if(r<=127||r>160&&r<=223)return!0;const n=e.nextByte(t);return!(n<0)&&(e.charValue=r<<8|n,n>=64&&n<=127||n>=128&&n<=255||(e.error=!0),!0)}};function s(e,t){e.index=e.nextIndex,e.error=!1;let r=0,n=0,i=0;return r=e.charValue=e.nextByte(t),r<0?e.done=!0:r<=141||(n=e.nextByte(t),e.charValue=e.charValue<<8|n,r>=161&&r<=254?n<161&&(e.error=!0):142!=r?143==r&&(i=e.nextByte(t),e.charValue=e.charValue<<8|i,i<161&&(e.error=!0)):n<161&&(e.error=!0)),0==e.done}Qo.big5=class extends o{constructor(){super(...arguments),this.commonChars=[41280,41281,41282,41283,41287,41289,41333,41334,42048,42054,42055,42056,42065,42068,42071,42084,42090,42092,42103,42147,42148,42151,42177,42190,42193,42207,42216,42237,42304,42312,42328,42345,42445,42471,42583,42593,42594,42600,42608,42664,42675,42681,42707,42715,42726,42738,42816,42833,42841,42970,43171,43173,43181,43217,43219,43236,43260,43456,43474,43507,43627,43706,43710,43724,43772,44103,44111,44208,44242,44377,44745,45024,45290,45423,45747,45764,45935,46156,46158,46412,46501,46525,46544,46552,46705,47085,47207,47428,47832,47940,48033,48593,49860,50105,50240,50271]}name(){return"Big5"}language(){return"zh"}nextChar(e,t){e.index=e.nextIndex,e.error=!1;const r=e.charValue=e.nextByte(t);if(r<0)return!1;if(r<=127||255==r)return!0;const n=e.nextByte(t);return!(n<0)&&(e.charValue=e.charValue<<8|n,(n<64||127==n||255==n)&&(e.error=!0),!0)}};Qo.euc_jp=class extends o{constructor(){super(...arguments),this.commonChars=[41377,41378,41379,41382,41404,41418,41419,41430,41431,42146,42148,42150,42152,42154,42155,42156,42157,42159,42161,42163,42165,42167,42169,42171,42173,42175,42176,42177,42179,42180,42182,42183,42184,42185,42186,42187,42190,42191,42192,42206,42207,42209,42210,42212,42216,42217,42218,42219,42220,42223,42226,42227,42402,42403,42404,42406,42407,42410,42413,42415,42416,42419,42421,42423,42424,42425,42431,42435,42438,42439,42440,42441,42443,42448,42453,42454,42455,42462,42464,42465,42469,42473,42474,42475,42476,42477,42483,47273,47572,47854,48072,48880,49079,50410,50940,51133,51896,51955,52188,52689],this.nextChar=s}name(){return"EUC-JP"}language(){return"ja"}};Qo.euc_kr=class extends o{constructor(){super(...arguments),this.commonChars=[45217,45235,45253,45261,45268,45286,45293,45304,45306,45308,45496,45497,45511,45527,45538,45994,46011,46274,46287,46297,46315,46501,46517,46527,46535,46569,46835,47023,47042,47054,47270,47278,47286,47288,47291,47337,47531,47534,47564,47566,47613,47800,47822,47824,47857,48103,48115,48125,48301,48314,48338,48374,48570,48576,48579,48581,48838,48840,48863,48878,48888,48890,49057,49065,49088,49124,49131,49132,49144,49319,49327,49336,49338,49339,49341,49351,49356,49358,49359,49366,49370,49381,49403,49404,49572,49574,49590,49622,49631,49654,49656,50337,50637,50862,51151,51153,51154,51160,51173,51373],this.nextChar=s}name(){return"EUC-KR"}language(){return"ko"}};return Qo.gb_18030=class extends o{constructor(){super(...arguments),this.commonChars=[41377,41378,41379,41380,41392,41393,41457,41459,41889,41900,41914,45480,45496,45502,45755,46025,46070,46323,46525,46532,46563,46767,46804,46816,47010,47016,47037,47062,47069,47284,47327,47350,47531,47561,47576,47610,47613,47821,48039,48086,48097,48122,48316,48347,48382,48588,48845,48861,49076,49094,49097,49332,49389,49611,49883,50119,50396,50410,50636,50935,51192,51371,51403,51413,51431,51663,51706,51889,51893,51911,51920,51926,51957,51965,52460,52728,52906,52932,52946,52965,53173,53186,53206,53442,53445,53456,53460,53671,53930,53938,53941,53947,53972,54211,54224,54269,54466,54490,54754,54992]}name(){return"GB18030"}language(){return"zh"}nextChar(e,t){e.index=e.nextIndex,e.error=!1;let r=0,n=0,i=0,o=0;e:if(r=e.charValue=e.nextByte(t),r<0)e.done=!0;else if(!(r<=128))if(n=e.nextByte(t),e.charValue=e.charValue<<8|n,r>=129&&r<=254){if(n>=64&&n<=126||n>=80&&n<=254)break e;if(n>=48&&n<=57&&(i=e.nextByte(t),i>=129&&i<=254&&(o=e.nextByte(t),o>=48&&o<=57))){e.charValue=e.charValue<<16|i<<8|o;break e}e.error=!0}else;return 0==e.done}},Qo}var es,ts={};function rs(){if(es)return ts;es=1;var e=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ts,"__esModule",{value:!0}),ts.KOI8_R=ts.windows_1256=ts.windows_1251=ts.ISO_8859_9=ts.ISO_8859_8=ts.ISO_8859_7=ts.ISO_8859_6=ts.ISO_8859_5=ts.ISO_8859_2=ts.ISO_8859_1=void 0;const r=e(Ho());class n{constructor(e,t){this.byteIndex=0,this.ngram=0,this.ngramCount=0,this.hitCount=0,this.spaceChar=32,this.ngramList=e,this.byteMap=t}search(e,t){let r=0;return e[r+32]<=t&&(r+=32),e[r+16]<=t&&(r+=16),e[r+8]<=t&&(r+=8),e[r+4]<=t&&(r+=4),e[r+2]<=t&&(r+=2),e[r+1]<=t&&(r+=1),e[r]>t&&(r-=1),r<0||e[r]!=t?-1:r}lookup(e){this.ngramCount+=1,this.search(this.ngramList,e)>=0&&(this.hitCount+=1)}addByte(e){this.ngram=(this.ngram<<8)+(255&e)&16777215,this.lookup(this.ngram)}nextByte(e){return this.byteIndex>=e.inputLen?-1:255&e.inputBytes[this.byteIndex++]}parse(e,t){let r,n=!1;for(this.spaceChar=t;(r=this.nextByte(e))>=0;){const e=this.byteMap[r];0!=e&&(e==this.spaceChar&&n||this.addByte(e),n=e==this.spaceChar)}this.addByte(this.spaceChar);const i=this.hitCount/this.ngramCount;return i>.33?98:Math.floor(300*i)}}class i{constructor(e,t){this.fLang=e,this.fNGrams=t}}let o=class{constructor(){this.spaceChar=32,this.nGramLang=void 0}ngrams(){return[]}byteMap(){return[]}name(e){return"sbcs"}language(){return this.nGramLang}match(e){this.nGramLang=void 0;const t=this.ngrams();if(i=t,Array.isArray(i)&&isFinite(i[0])){const i=new n(t,this.byteMap()).parse(e,this.spaceChar);return i<=0?null:(0,r.default)(e,this,i)}var i;let o=-1;for(let r=t.length-1;r>=0;r--){const i=t[r],s=new n(i.fNGrams,this.byteMap()).parse(e,this.spaceChar);s>o&&(o=s,this.nGramLang=i.fLang)}return o<=0?null:(0,r.default)(e,this,o)}};ts.ISO_8859_1=class extends o{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]}ngrams(){return[new i("da",[2122086,2122100,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126697,2126708,2126953,2127465,6383136,6385184,6385252,6386208,6386720,6579488,6579566,6579570,6579572,6627443,6644768,6644837,6647328,6647396,6648352,6648421,6648608,6648864,6713202,6776096,6776174,6776178,6907749,6908960,6909543,7038240,7039845,7103858,7104871,7105637,7169380,7234661,7234848,7235360,7235429,7300896,7302432,7303712,7398688,7479396,7479397,7479411,7496992,7566437,7610483,7628064,7628146,7629164,7759218]),new i("de",[2122094,2122101,2122341,2122849,2122853,2122857,2123113,2123621,2123873,2124142,2125161,2126691,2126693,2127214,2127461,2127471,2127717,2128501,6448498,6514720,6514789,6514804,6578547,6579566,6579570,6580581,6627428,6627443,6646126,6646132,6647328,6648352,6648608,6776174,6841710,6845472,6906728,6907168,6909472,6909541,6911008,7104867,7105637,7217249,7217252,7217267,7234592,7234661,7234848,7235360,7235429,7238757,7479396,7496805,7497065,7562088,7566437,7610468,7628064,7628142,7628146,7695972,7695975,7759218]),new i("en",[2122016,2122094,2122341,2122607,2123375,2123873,2123877,2124142,2125153,2125670,2125938,2126437,2126689,2126708,2126952,2126959,2127720,6383972,6384672,6385184,6385252,6386464,6386720,6386789,6386793,6561889,6561908,6627425,6627443,6627444,6644768,6647412,6648352,6648608,6713202,6840692,6841632,6841714,6906912,6909472,6909543,6909806,6910752,7217249,7217268,7234592,7235360,7238688,7300640,7302688,7303712,7496992,7500576,7544929,7544948,7561577,7566368,7610484,7628146,7628897,7628901,7629167,7630624,7631648]),new i("es",[2122016,2122593,2122607,2122853,2123116,2123118,2123123,2124142,2124897,2124911,2125921,2125935,2125938,2126197,2126437,2126693,2127214,2128160,6365283,6365284,6365285,6365292,6365296,6382441,6382703,6384672,6386208,6386464,6515187,6516590,6579488,6579564,6582048,6627428,6627429,6627436,6646816,6647328,6647412,6648608,6648692,6907246,6943598,7102752,7106419,7217253,7238757,7282788,7282789,7302688,7303712,7303968,7364978,7435621,7495968,7497075,7544932,7544933,7544944,7562528,7628064,7630624,7693600,15953440]),new i("fr",[2122101,2122607,2122849,2122853,2122869,2123118,2123124,2124897,2124901,2125921,2125935,2125938,2126197,2126693,2126703,2127214,2154528,6385268,6386793,6513952,6516590,6579488,6579571,6583584,6627425,6627427,6627428,6627429,6627436,6627440,6627443,6647328,6647412,6648352,6648608,6648864,6649202,6909806,6910752,6911008,7102752,7103776,7103859,7169390,7217252,7234848,7238432,7238688,7302688,7302772,7304562,7435621,7479404,7496992,7544929,7544932,7544933,7544940,7544944,7610468,7628064,7629167,7693600,7696928]),new i("it",[2122092,2122600,2122607,2122853,2122857,2123040,2124140,2124142,2124897,2125925,2125938,2127214,6365283,6365284,6365296,6365299,6386799,6514789,6516590,6579564,6580512,6627425,6627427,6627428,6627433,6627436,6627440,6627443,6646816,6646892,6647412,6648352,6841632,6889569,6889571,6889572,6889587,6906144,6908960,6909472,6909806,7102752,7103776,7104800,7105633,7234848,7235872,7237408,7238757,7282785,7282788,7282793,7282803,7302688,7302757,7366002,7495968,7496992,7563552,7627040,7628064,7629088,7630624,8022383]),new i("nl",[2122092,2122341,2122849,2122853,2122857,2123109,2123118,2123621,2123877,2124142,2125153,2125157,2125680,2126949,2127457,2127461,2127471,2127717,2128489,6381934,6381938,6385184,6385252,6386208,6386720,6514804,6579488,6579566,6579570,6627426,6627446,6645102,6645106,6647328,6648352,6648435,6648864,6776174,6841716,6907168,6909472,6909543,6910752,7217250,7217252,7217253,7217256,7217263,7217270,7234661,7235360,7302756,7303026,7303200,7303712,7562088,7566437,7610468,7628064,7628142,7628146,7758190,7759218,7761775]),new i("no",[2122100,2122102,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126693,2126699,2126703,2126708,2126953,2127465,2155808,6385252,6386208,6386720,6579488,6579566,6579572,6627443,6644768,6647328,6647397,6648352,6648421,6648864,6648948,6713202,6776174,6908779,6908960,6909543,7038240,7039845,7103776,7105637,7169380,7169390,7217267,7234848,7235360,7235429,7237221,7300896,7302432,7303712,7398688,7479411,7496992,7565165,7566437,7610483,7628064,7628142,7628146,7629164,7631904,7631973,7759218]),new i("pt",[2122016,2122607,2122849,2122853,2122863,2123040,2123123,2125153,2125423,2125600,2125921,2125935,2125938,2126197,2126437,2126693,2127213,6365281,6365283,6365284,6365296,6382693,6382703,6384672,6386208,6386273,6386464,6516589,6516590,6578464,6579488,6582048,6582131,6627425,6627428,6647072,6647412,6648608,6648692,6906144,6906721,7169390,7238757,7238767,7282785,7282787,7282788,7282789,7282800,7303968,7364978,7435621,7495968,7497075,7544929,7544932,7544933,7544944,7566433,7628064,7630624,7693600,14905120,15197039]),new i("sv",[2122100,2122102,2122853,2123118,2123510,2123873,2124064,2124142,2124655,2125157,2125667,2126053,2126699,2126703,2126708,2126953,2127457,2127465,2155634,6382693,6385184,6385252,6386208,6386804,6514720,6579488,6579566,6579570,6579572,6644768,6647328,6648352,6648864,6747762,6776174,6909036,6909543,7037216,7105568,7169380,7217267,7233824,7234661,7235360,7235429,7235950,7299944,7302432,7302688,7398688,7479393,7479411,7495968,7564129,7565165,7610483,7627040,7628064,7628146,7629164,7631904,7758194,14971424,16151072])]}name(e){return e&&e.c1Bytes?"windows-1252":"ISO-8859-1"}};ts.ISO_8859_2=class extends o{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,177,32,179,32,181,182,32,32,185,186,187,188,32,190,191,32,177,32,179,32,181,182,183,32,185,186,187,188,32,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,32]}ngrams(){return[new i("cs",[2122016,2122361,2122863,2124389,2125409,2125413,2125600,2125668,2125935,2125938,2126072,2126447,2126693,2126703,2126708,2126959,2127392,2127481,2128481,6365296,6513952,6514720,6627440,6627443,6627446,6647072,6647533,6844192,6844260,6910836,6972704,7042149,7103776,7104800,7233824,7268640,7269408,7269664,7282800,7300206,7301737,7304052,7304480,7304801,7368548,7368554,7369327,7403621,7562528,7565173,7566433,7566441,7566446,7628146,7630573,7630624,7676016,12477728,14773997,15296623,15540336,15540339,15559968,16278884]),new i("hu",[2122016,2122106,2122341,2123111,2123116,2123365,2123873,2123887,2124147,2124645,2124649,2124790,2124901,2125153,2125157,2125161,2125413,2126714,2126949,2156915,6365281,6365291,6365293,6365299,6384416,6385184,6388256,6447470,6448494,6645625,6646560,6646816,6646885,6647072,6647328,6648421,6648864,6648933,6648948,6781216,6844263,6909556,6910752,7020641,7075450,7169383,7170414,7217249,7233899,7234923,7234925,7238688,7300985,7544929,7567973,7567988,7568097,7596391,7610465,7631904,7659891,8021362,14773792,15299360]),new i("pl",[2122618,2122863,2124064,2124389,2124655,2125153,2125161,2125409,2125417,2125668,2125935,2125938,2126697,2127648,2127721,2127737,2128416,2128481,6365296,6365303,6385257,6514720,6519397,6519417,6582048,6584937,6627440,6627443,6627447,6627450,6645615,6646304,6647072,6647401,6778656,6906144,6907168,6907242,7037216,7039264,7039333,7170405,7233824,7235937,7235941,7282800,7305057,7305065,7368556,7369313,7369327,7369338,7502437,7502457,7563754,7564137,7566433,7825765,7955304,7957792,8021280,8022373,8026400,15955744]),new i("ro",[2122016,2122083,2122593,2122597,2122607,2122613,2122853,2122857,2124897,2125153,2125925,2125938,2126693,2126819,2127214,2144873,2158190,6365283,6365284,6386277,6386720,6386789,6386976,6513010,6516590,6518048,6546208,6579488,6627425,6627427,6627428,6627440,6627443,6644e3,6646048,6646885,6647412,6648692,6889569,6889571,6889572,6889584,6907168,6908192,6909472,7102752,7103776,7106418,7107945,7234848,7238770,7303712,7365998,7496992,7497057,7501088,7594784,7628064,7631477,7660320,7694624,7695392,12216608,15625760])]}name(e){return e&&e.c1Bytes?"windows-1250":"ISO-8859-2"}};ts.ISO_8859_5=class extends o{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255]}ngrams(){return[2150944,2151134,2151646,2152400,2152480,2153168,2153182,2153936,2153941,2154193,2154462,2154464,2154704,2154974,2154978,2155230,2156514,2158050,13688280,13689580,13884960,14015468,14015960,14016994,14017056,14164191,14210336,14211104,14216992,14407133,14407712,14413021,14536736,14538016,14538965,14538991,14540320,14540498,14557394,14557407,14557409,14602784,14602960,14603230,14604576,14605292,14605344,14606818,14671579,14672085,14672088,14672094,14733522,14734804,14803664,14803666,14803672,14806816,14865883,14868e3,14868192,14871584,15196894,15459616]}name(){return"ISO-8859-5"}language(){return"ru"}};ts.ISO_8859_6=class extends o{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32]}ngrams(){return[2148324,2148326,2148551,2152932,2154986,2155748,2156006,2156743,13050055,13091104,13093408,13095200,13100064,13100227,13100231,13100232,13100234,13100236,13100237,13100239,13100243,13100249,13100258,13100261,13100264,13100266,13100320,13100576,13100746,13115591,13181127,13181153,13181156,13181157,13181160,13246663,13574343,13617440,13705415,13748512,13836487,14229703,14279913,14805536,14950599,14993696,15001888,15002144,15016135,15058720,15059232,15066656,15081671,15147207,15189792,15255524,15263264,15278279,15343815,15343845,15343848,15386912,15388960,15394336]}name(){return"ISO-8859-6"}language(){return"ar"}};ts.ISO_8859_7=class extends o{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,161,162,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,220,32,221,222,223,32,252,32,253,254,192,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,32,243,244,245,246,247,248,249,250,251,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,32]}ngrams(){return[2154989,2154992,2155497,2155753,2156016,2156320,2157281,2157797,2158049,2158368,2158817,2158831,2158833,2159604,2159605,2159847,2159855,14672160,14754017,14754036,14805280,14806304,14807292,14807584,14936545,15067424,15069728,15147252,15199520,15200800,15278324,15327520,15330014,15331872,15393257,15393268,15525152,15540449,15540453,15540464,15589664,15725088,15725856,15790069,15790575,15793184,15868129,15868133,15868138,15868144,15868148,15983904,15984416,15987951,16048416,16048617,16050157,16050162,16050666,16052e3,16052213,16054765,16379168,16706848]}name(e){return e&&e.c1Bytes?"windows-1253":"ISO-8859-7"}language(){return"el"}};ts.ISO_8859_8=class extends o{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,32,32,32,32,32]}ngrams(){return[new i("he",[2154725,2154727,2154729,2154746,2154985,2154990,2155744,2155749,2155753,2155758,2155762,2155769,2155770,2157792,2157796,2158304,2159340,2161132,14744096,14950624,14950625,14950628,14950636,14950638,14950649,15001056,15065120,15068448,15068960,15071264,15071776,15278308,15328288,15328762,15329773,15330592,15331104,15333408,15333920,15474912,15474916,15523872,15524896,15540448,15540449,15540452,15540460,15540462,15540473,15655968,15671524,15787040,15788320,15788525,15920160,16261348,16312813,16378912,16392416,16392417,16392420,16392428,16392430,16392441]),new i("he",[2154725,2154732,2155753,2155756,2155758,2155760,2157040,2157810,2157817,2158053,2158057,2158565,2158569,2160869,2160873,2161376,2161381,2161385,14688484,14688492,14688493,14688506,14738464,14738916,14740512,14741024,14754020,14754029,14754042,14950628,14950633,14950636,14950637,14950639,14950648,14950650,15002656,15065120,15066144,15196192,15327264,15327520,15328288,15474916,15474925,15474938,15528480,15530272,15591913,15591920,15591928,15605988,15605997,15606010,15655200,15655968,15918112,16326884,16326893,16326906,16376864,16441376,16442400,16442857])]}name(e){return e&&e.c1Bytes?"windows-1255":"ISO-8859-8"}language(){return"he"}};ts.ISO_8859_9=class extends o{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,105,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]}ngrams(){return[2122337,2122345,2122357,2122849,2122853,2123621,2123873,2124140,2124641,2124655,2125153,2125676,2126689,2126945,2127461,2128225,6365282,6384416,6384737,6384993,6385184,6385405,6386208,6386273,6386429,6386685,6388065,6449522,6578464,6579488,6580512,6627426,6627435,6644841,6647328,6648352,6648425,6648681,6909029,6909472,6909545,6910496,7102830,7102834,7103776,7103858,7217249,7217250,7217259,7234657,7234661,7234848,7235872,7235950,7273760,7498094,7535982,7759136,7954720,7958386,16608800,16608868,16609021,16642301]}name(e){return e&&e.c1Bytes?"windows-1254":"ISO-8859-9"}language(){return"tr"}};ts.windows_1251=class extends o{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,144,131,32,131,32,32,32,32,32,32,154,32,156,157,158,159,144,32,32,32,32,32,32,32,32,32,154,32,156,157,158,159,32,162,162,188,32,180,32,32,184,32,186,32,32,32,32,191,32,32,179,179,180,181,32,32,184,32,186,32,188,190,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]}ngrams(){return[2155040,2155246,2155758,2156512,2156576,2157280,2157294,2158048,2158053,2158305,2158574,2158576,2158816,2159086,2159090,2159342,2160626,2162162,14740968,14742268,14937632,15068156,15068648,15069682,15069728,15212783,15263008,15263776,15269664,15459821,15460384,15465709,15589408,15590688,15591653,15591679,15592992,15593186,15605986,15605999,15606001,15655456,15655648,15655918,15657248,15657980,15658016,15659506,15724267,15724773,15724776,15724782,15786210,15787492,15856352,15856354,15856360,15859488,15918571,15920672,15920880,15924256,16249582,16512288]}name(){return"windows-1251"}language(){return"ru"}};ts.windows_1256=class extends o{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,129,32,131,32,32,32,32,136,32,138,32,156,141,142,143,144,32,32,32,32,32,32,32,152,32,154,32,156,32,32,159,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,32,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,32,32,32,244,32,32,32,32,249,32,251,252,32,32,255]}ngrams(){return[2148321,2148324,2148551,2153185,2153965,2154977,2155492,2156231,13050055,13091104,13093408,13095200,13099296,13099459,13099463,13099464,13099466,13099468,13099469,13099471,13099475,13099482,13099486,13099491,13099494,13099501,13099808,13100064,13100234,13115591,13181127,13181149,13181153,13181155,13181158,13246663,13574343,13617440,13705415,13748512,13836487,14295239,14344684,14544160,14753991,14797088,14806048,14806304,14885063,14927648,14928160,14935072,14950599,15016135,15058720,15124449,15131680,15474887,15540423,15540451,15540454,15583520,15585568,15590432]}name(){return"windows-1256"}language(){return"ar"}};return ts.KOI8_R=class extends o{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223]}ngrams(){return[2147535,2148640,2149313,2149327,2150081,2150085,2150338,2150607,2150610,2151105,2151375,2151380,2151631,2152224,2152399,2153153,2153684,2154196,12701385,12702936,12963032,12963529,12964820,12964896,13094688,13181136,13223200,13224224,13226272,13419982,13420832,13424846,13549856,13550880,13552069,13552081,13553440,13553623,13574352,13574355,13574359,13617103,13617696,13618392,13618464,13620180,13621024,13621185,13684684,13685445,13685449,13685455,13812183,13813188,13881632,13882561,13882569,13882583,13944268,13946656,13946834,13948960,14272544,14603471]}name(){return"KOI8-R"}language(){return"ru"}},ts}var ns,is,os={};function ss(){if(ns)return os;ns=1;var e=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(os,"__esModule",{value:!0}),os.ISO_2022_CN=os.ISO_2022_KR=os.ISO_2022_JP=void 0;const r=e(Ho());class n{constructor(){this.escapeSequences=[]}name(){return"ISO_2022"}match(e){let t,n,i,o,s=0,a=0,c=0;const u=e.inputBytes,l=e.inputLen;e:for(t=0;t<l;t++){if(27==u[t]){t:for(i=0;i<this.escapeSequences.length;i++){const e=this.escapeSequences[i];if(!(l-t<e.length)){for(n=1;n<e.length;n++)if(e[n]!=u[t+n])continue t;s++,t+=e.length-1;continue e}}a++}14!=u[t]&&15!=u[t]||c++}return 0==s?null:(o=(100*s-100*a)/(s+a),s+c<5&&(o-=10*(5-(s+c))),o<=0?null:(0,r.default)(e,this,o))}}os.ISO_2022_JP=class extends n{constructor(){super(...arguments),this.escapeSequences=[[27,36,40,67],[27,36,40,68],[27,36,64],[27,36,65],[27,36,66],[27,38,64],[27,40,66],[27,40,72],[27,40,73],[27,40,74],[27,46,65],[27,46,70]]}name(){return"ISO-2022-JP"}language(){return"ja"}};os.ISO_2022_KR=class extends n{constructor(){super(...arguments),this.escapeSequences=[[27,36,41,67]]}name(){return"ISO-2022-KR"}language(){return"kr"}};return os.ISO_2022_CN=class extends n{constructor(){super(...arguments),this.escapeSequences=[[27,36,41,65],[27,36,41,71],[27,36,42,72],[27,36,41,69],[27,36,43,73],[27,36,43,74],[27,36,43,75],[27,36,43,76],[27,36,43,77],[27,78],[27,79]]}name(){return"ISO-2022-CN"}language(){return"zh"}},os}function as(){return is||(is=1,function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=t&&t.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&r(t,e,i);return n(t,e),t},o=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.detectFileSync=e.detectFile=e.analyse=e.detect=void 0;const s=o((qo||(qo=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.default=()=>{throw new Error("File system is not available")}),zo)),a=o(function(){if($o)return Yo;$o=1;var e=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yo,"__esModule",{value:!0});const r=e(Ho());return Yo.default=class{name(){return"UTF-8"}match(e){let t,n=!1,i=0,o=0,s=0;const a=e.rawInput;e.rawLen>=3&&239==(255&a[0])&&187==(255&a[1])&&191==(255&a[2])&&(n=!0);for(let t=0;t<e.rawLen;t++){const r=a[t];if(0!=(128&r)){if(192==(224&r))s=1;else if(224==(240&r))s=2;else if(240==(248&r))s=3;else{if(o++,o>5)break;s=0}for(;t++,!(t>=e.rawLen);){if(128!=(192&a[t])){o++;break}if(0==--s){i++;break}}}}if(t=0,n&&0==o)t=100;else if(n&&i>10*o)t=80;else if(i>3&&0==o)t=100;else if(i>0&&0==o)t=80;else if(0==i&&0==o)t=10;else{if(!(i>10*o))return null;t=25}return(0,r.default)(e,this,t)}},Yo}()),c=i(Jo()),u=i(Zo()),l=i(rs()),h=i(ss()),f=[new a.default,new c.UTF_16BE,new c.UTF_16LE,new c.UTF_32BE,new c.UTF_32LE,new u.sjis,new u.big5,new u.euc_jp,new u.euc_kr,new u.gb_18030,new h.ISO_2022_JP,new h.ISO_2022_KR,new h.ISO_2022_CN,new l.ISO_8859_1,new l.ISO_8859_2,new l.ISO_8859_5,new l.ISO_8859_6,new l.ISO_8859_7,new l.ISO_8859_8,new l.ISO_8859_9,new l.windows_1251,new l.windows_1256,new l.KOI8_R];e.detect=t=>{const r=(0,e.analyse)(t);return r.length>0?r[0].name:null};e.analyse=e=>{const t=[];for(let e=0;e<256;e++)t[e]=0;for(let r=e.length-1;r>=0;r--)t[255&e[r]]++;let r=!1;for(let e=128;e<=159;e+=1)if(0!==t[e]){r=!0;break}const n={byteStats:t,c1Bytes:r,rawInput:e,rawLen:e.length,inputBytes:e,inputLen:e.length},i=f.map((e=>e.match(n))).filter((e=>!!e)).sort(((e,t)=>t.confidence-e.confidence));return i};e.detectFile=(t,r={})=>new Promise(((n,i)=>{let o;const a=(0,s.default)(),c=(t,r)=>{o&&a.closeSync(o),t?i(t):n((0,e.detect)(r))};if(r&&r.sampleSize){o=a.openSync(t,"r");const e=sr.allocUnsafe(r.sampleSize);a.read(o,e,0,r.sampleSize,r.offset,(t=>{c(t,e)}))}else a.readFile(t,c)}));e.detectFileSync=(t,r={})=>{const n=(0,s.default)();if(r&&r.sampleSize){const i=n.openSync(t,"r"),o=sr.allocUnsafe(r.sampleSize);return n.readSync(i,o,0,r.sampleSize,r.offset),n.closeSync(i),(0,e.detect)(o)}return(0,e.detect)(n.readFileSync(t))},e.default={analyse:e.analyse,detect:e.detect,detectFileSync:e.detectFileSync,detectFile:e.detectFile}}(Fo)),Fo}Xr.Client=ys;var cs=Hr,us=Vr,ls=In,hs=$n,fs=Yn,ps=function(e,t,r){var n,i={};t&&(e=Vn.stripColorsAndStyle(e)),(n=e.match(/^:([^ ]+) +/))&&(i.prefix=n[1],e=e.replace(/^:[^ ]+ +/,""),(n=r?i.prefix.match(/^([_a-zA-Z0-9~[\]\\`^{}|-]*)(!([^@]+)@(.*))?$/):i.prefix.match(/^([\u1100-\u11FF\u3040-\u309fF\u30A0-\u30FF\u3130-\u318F\u31F0-\u31FF\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF_a-zA-Z0-9~[\]\\/?`^{}|-]*)(!([^@]+)@(.*))?$/))?(i.nick=n[1],i.user=n[3],i.host=n[4]):i.server=i.prefix),n=e.match(/^([^ ]+) */),i.command=n[1],i.rawCommand=n[1],i.commandType="normal",e=e.replace(/^[^ ]+ +/,"");var o,s,a=Gn[i.rawCommand];return a&&("name"in a&&(i.command=a.name),i.commandType=a.type),i.args=[],-1!==e.search(/^:|\s+:/)?(o=(n=e.match(/(.*?)(?:^:|\s+:)(.*)/))[1].trimRight(),s=n[2]):o=e,o.length&&(i.args=o.split(/ +/)),void 0!==s&&s.length&&i.args.push(s),i};Xr.colors=fs;var ds,ms=ti,gs=new RegExp(/\r\n|\r|\n/);function ys(e,t,r){var n=this;(n.opt={server:e,nick:t,userName:"nodebot",realName:"nodeJS IRC client",password:null,port:6667,localAddress:null,debug:!1,showErrors:!1,channels:[],autoRejoin:!1,autoRenick:!1,autoConnect:!0,retryCount:null,retryDelay:2e3,renickCount:null,renickDelay:6e4,secure:!1,selfSigned:!1,certExpired:!1,floodProtection:!1,floodProtectionDelay:1e3,sasl:!1,webirc:{pass:"",ip:"",host:""},stripColors:!1,channelPrefixes:"&#",messageSplit:512,encoding:null,millisecondsOfSilenceBeforePingSent:15e3,millisecondsBeforePingTimeout:8e3,enableStrictParse:!1},n.supported={channel:{idlength:{},length:200,limit:[],modes:{a:"",b:"",c:"",d:""},types:n.opt.channelPrefixes},kicklength:0,maxlist:[],maxtargets:{},modes:3,nicklength:9,topiclength:0,usermodes:""},"object"==typeof r)&&Object.keys(n.opt).forEach((function(e){void 0!==r[e]&&(n.opt[e]=r[e])}));n.out={showErrors:n.opt.showErrors,showDebug:n.opt.debug},n.out.error=function(){if(this.showDebug||this.showErrors){var e=Array.prototype.slice.call(arguments);e.unshift("[01;31mERROR:"),e.push("[0m"),ls.log.apply(ls,e)}},n.out.debug=function(){this.showDebug&&ls.log.apply(ls,arguments)},n.opt.floodProtection&&n.activateFloodProtection(),n.hostMask="",!0===n.opt.autoConnect&&n.connect(),n.addListener("raw",(function(e){var t,r,i,o,s,a=[];switch(e.command){case"rpl_welcome":n.nick=e.args[0];var c=e.args[1].split(/\s+/);n.hostMask=c[c.length-1],n._updateMaxLineLength(),n.emit("registered",e),n.whois(n.nick,(function(e){n.nick=e.nick,n.hostMask=e.user+"@"+e.host,n._updateMaxLineLength()}));break;case"rpl_myinfo":n.supported.usermodes=e.args[3];break;case"rpl_isupport":e.args.forEach((function(e){var t;if(t=e.match(/([A-Z]+)=(.*)/)){var r=t[1],i=t[2];switch(r){case"CHANLIMIT":i.split(",").forEach((function(e){e=e.split(":"),n.supported.channel.limit[e[0]]=parseInt(e[1])}));break;case"CHANMODES":i=i.split(",");for(var o=["a","b","c","d"],s=0;s<o.length;s++)n.supported.channel.modes[o[s]]+=i[s];break;case"CHANTYPES":n.supported.channel.types=i;break;case"CHANNELLEN":n.supported.channel.length=parseInt(i);break;case"IDCHAN":i.split(",").forEach((function(e){e=e.split(":"),n.supported.channel.idlength[e[0]]=parseInt(e[1])}));break;case"KICKLEN":n.supported.kicklength=parseInt(i);break;case"MAXLIST":i.split(",").forEach((function(e){e=e.split(":"),n.supported.maxlist[e[0]]=parseInt(e[1])}));break;case"NICKLEN":n.supported.nicklength=parseInt(i);break;case"PREFIX":if(t=i.match(/\((.*?)\)(.*)/))for(t[1]=t[1].split(""),t[2]=t[2].split("");t[1].length;)n.modeForPrefix[t[2][0]]=t[1][0],n.supported.channel.modes.b+=t[1][0],n.prefixForMode[t[1].shift()]=t[2].shift();break;case"TARGMAX":i.split(",").forEach((function(e){(e=e.split(":"))[1]=e[1]?parseInt(e[1]):0,n.supported.maxtargets[e[0]]=e[1]}));break;case"TOPICLEN":n.supported.topiclength=parseInt(i)}}}));break;case"rpl_yourhost":case"rpl_created":case"rpl_luserclient":case"rpl_luserop":case"rpl_luserchannels":case"rpl_luserme":case"rpl_localusers":case"rpl_globalusers":case"rpl_statsconn":case"rpl_luserunknown":case"rpl_whoishost":case"396":case"042":case"rpl_loggedin":break;case"err_nicknameinuse":if(void 0===n.opt.nickMod&&(n.opt.nickMod=0),e.args[1]===n.opt.nick&&(n.conn.renickInterval||n.conn.attemptedLastRenick)){n.out.debug("Attempted to automatically renick to",e.args[1],"and found it taken");break}if(n.opt.nickMod++,n.send("NICK",n.opt.nick+n.opt.nickMod),n.nick=n.opt.nick+n.opt.nickMod,n._updateMaxLineLength(),n.opt.autoRenick){var u=0;n.cancelAutoRenick(),n.conn.renickInterval=setInterval((function(){if(n.nick===n.opt.nick)return n.out.debug("Attempted to automatically renick to",n.nick,"and found that was the current nick"),void n.cancelAutoRenick();n.send("NICK",n.opt.nick),u++,null!==n.opt.renickCount&&u>=n.opt.renickCount&&(n.out.debug("Maximum autorenick retry count ("+n.opt.renickCount+") reached"),n.cancelAutoRenick(),n.conn.attemptedLastRenick=!0)}),n.opt.renickDelay)}break;case"PING":n.send("PONG",e.args[0]),n.emit("ping",e.args[0]);break;case"PONG":n.emit("pong",e.args[0]);break;case"NOTICE":if(i=e.nick,(s=e.args[0])||(s=null),""===(o=e.args[1]||"")[0]&&o.lastIndexOf("")>0){n._handleCTCP(i,s,o,"notice",e);break}n.emit("notice",i,s,o,e),s===n.nick&&n.out.debug("GOT NOTICE from "+(i?'"'+i+'"':"the server")+': "'+o+'"');break;case"MODE":if(n.out.debug("MODE: "+e.args[0]+" sets mode: "+e.args[1]),!(t=n.chanData(e.args[0])))break;var l=e.args[1].split(""),h=!0,f=e.args.slice(2),p=function(e,r){var n=r&&Array.isArray(r);h?(-1===t.mode.indexOf(e)&&(t.mode+=e),t.modeParams[e]=void 0===r?[]:n?t.modeParams[e]?t.modeParams[e].concat(r):r:[r]):e in t.modeParams&&(n&&(t.modeParams[e]=t.modeParams[e].filter((function(e){return e!==r[0]}))),n&&0!==t.modeParams[e].length||(t.mode=t.mode.replace(e,""),delete t.modeParams[e]))};l.forEach((function(r){if("+"!==r)if("-"!==r){var i,o=(h?"+":"-")+"mode",s=n.supported.channel.modes;r in n.prefixForMode?(i=f.shift(),Object.prototype.hasOwnProperty.call(t.users,i)&&(h?-1===t.users[i].indexOf(n.prefixForMode[r])&&(t.users[i]+=n.prefixForMode[r]):t.users[i]=t.users[i].replace(n.prefixForMode[r],"")),n.emit(o,e.args[0],e.nick,r,i,e)):-1!==s.a.indexOf(r)?(i=f.shift(),p(r,[i]),n.emit(o,e.args[0],e.nick,r,i,e)):-1!==s.b.indexOf(r)?(i=f.shift(),p(r,i),n.emit(o,e.args[0],e.nick,r,i,e)):-1!==s.c.indexOf(r)?(i=h?f.shift():void 0,p(r,i),n.emit(o,e.args[0],e.nick,r,i,e)):-1!==s.d.indexOf(r)&&(p(r),n.emit(o,e.args[0],e.nick,r,void 0,e))}else h=!1;else h=!0}));break;case"NICK":e.nick===n.nick&&(n.nick=e.args[0],n.cancelAutoRenick(),n._updateMaxLineLength()),n.out.debug("NICK: "+e.nick+" changes nick to "+e.args[0]),a=[],Object.keys(n.chans).forEach((function(t){var r=n.chans[t];e.nick in r.users&&(r.users[e.args[0]]=r.users[e.nick],delete r.users[e.nick],a.push(t))})),n.emit("nick",e.nick,e.args[0],a,e);break;case"rpl_motdstart":n.motd=e.args[1]+"\n";break;case"rpl_motd":n.motd+=e.args[1]+"\n";break;case"rpl_endofmotd":case"err_nomotd":n.motd+=e.args[1]+"\n",n.emit("motd",n.motd);break;case"rpl_namreply":t=n.chanData(e.args[2]);var d=e.args[3].trim().split(/ +/);t&&d.forEach((function(e){var r=e.match(/^(.)(.*)$/);r&&(r[1]in n.modeForPrefix?t.users[r[2]]=r[1]:t.users[r[1]+r[2]]="")}));break;case"rpl_endofnames":(t=n.chanData(e.args[1]))&&(n.emitChannelEvent("names",e.args[1],t.users),n.send("MODE",e.args[1]));break;case"rpl_topic":(t=n.chanData(e.args[1]))&&(t.topic=e.args[2]);break;case"rpl_away":n._addWhoisData(e.args[1],"away",e.args[2],!0);break;case"rpl_whoisuser":n._addWhoisData(e.args[1],"user",e.args[2]),n._addWhoisData(e.args[1],"host",e.args[3]),n._addWhoisData(e.args[1],"realname",e.args[5]);break;case"rpl_whoisidle":n._addWhoisData(e.args[1],"idle",e.args[2]);break;case"rpl_whoischannels":n._addWhoisData(e.args[1],"channels",e.args[2].trim().split(/\s+/));break;case"rpl_whoisserver":n._addWhoisData(e.args[1],"server",e.args[2]),n._addWhoisData(e.args[1],"serverinfo",e.args[3]);break;case"rpl_whoisoperator":n._addWhoisData(e.args[1],"operator",e.args[2]);break;case"330":n._addWhoisData(e.args[1],"account",e.args[2]),n._addWhoisData(e.args[1],"accountinfo",e.args[3]);break;case"rpl_endofwhois":n.emit("whois",n._clearWhoisData(e.args[1]));break;case"rpl_whoreply":n._addWhoisData(e.args[5],"user",e.args[2]),n._addWhoisData(e.args[5],"host",e.args[3]),n._addWhoisData(e.args[5],"server",e.args[4]),n._addWhoisData(e.args[5],"realname",/[0-9]+\s*(.+)/g.exec(e.args[7])[1]),n.emit("whois",n._clearWhoisData(e.args[5]));break;case"rpl_liststart":n.channellist=[],n.emit("channellist_start");break;case"rpl_list":t={name:e.args[1],users:e.args[2],topic:e.args[3]},n.emit("channellist_item",t),n.channellist.push(t);break;case"rpl_listend":n.emit("channellist",n.channellist);break;case"rpl_topicwhotime":(t=n.chanData(e.args[1]))&&(t.topicBy=e.args[2],n.emit("topic",e.args[1],t.topic,t.topicBy,e));break;case"TOPIC":n.emit("topic",e.args[0],e.args[1],e.nick,e),(t=n.chanData(e.args[0]))&&(t.topic=e.args[1],t.topicBy=e.nick);break;case"rpl_channelmodeis":(t=n.chanData(e.args[1]))&&(t.mode=e.args[2]);break;case"rpl_creationtime":(t=n.chanData(e.args[1]))&&(t.created=e.args[2]);break;case"JOIN":n.nick===e.nick?n.chanData(e.args[0],!0):(t=n.chanData(e.args[0]))&&t.users&&(t.users[e.nick]=""),n.emitChannelEvent("join",e.args[0],e.nick,e);break;case"PART":n.emitChannelEvent("part",e.args[0],e.nick,e.args[1],e),n.nick===e.nick?(t=n.chanData(e.args[0]),delete n.chans[t.key]):(t=n.chanData(e.args[0]))&&t.users&&delete t.users[e.nick];break;case"KICK":n.emitChannelEvent("kick",e.args[0],e.args[1],e.nick,e.args[2],e),n.nick===e.args[1]?(t=n.chanData(e.args[0]),delete n.chans[t.key]):(t=n.chanData(e.args[0]))&&t.users&&delete t.users[e.args[1]];break;case"KILL":r=e.args[0],a=[],Object.keys(n.chans).forEach((function(e){var t=n.chans[e];r in t.users&&(a.push(e),delete t.users[r])})),n.emit("kill",r,e.args[1],a,e);break;case"PRIVMSG":if(i=e.nick,s=e.args[0],""===(o=e.args[1]||"")[0]&&o.lastIndexOf("")>0){n._handleCTCP(i,s,o,"privmsg",e);break}n.emit("message",i,s,o,e),-1!==n.supported.channel.types.indexOf(s.charAt(0))&&(n.emit("message#",i,s,o,e),n.emit("message"+s,i,o,e),s!==s.toLowerCase()&&n.emit("message"+s.toLowerCase(),i,o,e)),s.toUpperCase()===n.nick.toUpperCase()&&(n.emit("pm",i,o,e),n.out.debug('GOT MESSAGE from "'+i+'": "'+o+'"'));break;case"INVITE":i=e.nick,s=e.args[0],t=e.args[1],n.emit("invite",t,i,e);break;case"QUIT":if(n.out.debug("QUIT: "+e.prefix+" "+e.args.join(" ")),n.nick===e.nick)break;a=[],Object.keys(n.chans).forEach((function(t){var r=n.chans[t];e.nick in r.users&&(delete r.users[e.nick],a.push(t))})),n.emit("quit",e.nick,e.args[0],a,e);break;case"CAP":if("NAK"===e.args[1]){n.out.error(e),n.emit("error",e);break}if("ACK"!==e.args[1])break;if(e.args[2].split(/\s+/).indexOf("sasl")<0)break;n.send("AUTHENTICATE","PLAIN");break;case"AUTHENTICATE":if("+"!==e.args[0])break;for(var m=sr.from(n.opt.nick+"\0"+n.opt.userName+"\0"+n.opt.password).toString("base64"),g=0;g<(m.length+1)/400;g++){var y=m.slice(400*g,400*(g+1));""===y&&(y="+"),n.send("AUTHENTICATE",y)}break;case"rpl_saslsuccess":n.send("CAP","END");break;case"err_umodeunknownflag":case"err_erroneusnickname":case"err_nooperhost":n.out.error(e),n.emit("error",e);break;case"rpl_youreoper":n.emit("opered");break;default:if("error"!==e.commandType){n.out.error("Unhandled message:",e),n.emit("unhandled",e);break}n.out.error(e),n.emit("error",e)}})),n.addListener("kick",(function(e,t){n.opt.autoRejoin&&t.toLowerCase()===n.nick.toLowerCase()&&n.join(e)})),n.addListener("motd",(function(){n.opt.channels.forEach((function(e){n.join(e)}))})),hs.call(this)}function bs(e,t,r){var n,i=e;try{var o=Uo();n=as().detect(e);var s=o.decode(e,n);i=sr.from(o.encode(s,t))}catch(e){if(!r)throw e;r(e,n)}return i}function ws(){var e,t=sr.from([115,99,104,246,110]),r=sr.from([115,99,104,195,182,110]),n=bs(t,"utf-8",(function(t){e=t}));return!e&&n.toString()===r.toString()}ls.inherits(ys,hs),ys.prototype.conn=null,ys.prototype.prefixForMode={},ys.prototype.modeForPrefix={},ys.prototype.chans={},ys.prototype._whoisData={},ys.prototype.connectionTimedOut=function(e){e===this.conn&&this.end()},ds=1,ys.prototype.connectionWantsPing=function(e){e===this.conn&&this.send("PING",(ds++).toString())},ys.prototype.chanData=function(e,t){var r=e.toLowerCase();return t&&(this.chans[r]=this.chans[r]||{key:r,serverName:e,users:{},modeParams:{},mode:""}),this.chans[r]},ys.prototype._connectionHandler=function(){this.out.debug("Socket connection successful"),this.opt.webirc.ip&&this.opt.webirc.pass&&this.opt.webirc.host&&this.send("WEBIRC",this.opt.webirc.pass,this.opt.userName,this.opt.webirc.host,this.opt.webirc.ip),this.opt.sasl?this.send("CAP","REQ","sasl"):this.opt.password&&this.send("PASS",this.opt.password),this.out.debug("Sending irc NICK/USER"),this.send("NICK",this.opt.nick),this.nick=this.opt.nick,this._updateMaxLineLength(),this.send("USER",this.opt.userName,8,"*",this.opt.realName),this.conn.cyclingPingTimer.start(),this.emit("connect")},ys.prototype.connect=function(e,t){if("function"==typeof e&&(t=e,e=void 0),e=e||0,"function"==typeof t&&this.once("registered",t),!this.conn||this.conn.requestedDisconnect){var r=this;r.chans={};var n,i={host:r.opt.server,port:r.opt.port};if(r.opt.localAddress&&(i.localAddress=r.opt.localAddress),r.out.debug("Attempting socket connection to IRC server"),r.opt.secure){if(i.rejectUnauthorized=!r.opt.selfSigned,"object"==typeof r.opt.secure)for(var o in r.opt.secure)i[o]=r.opt.secure[o];r.conn=us.connect(i,(function(){r.conn.connected=!0,r.conn.authorized||r.opt.selfSigned&&("DEPTH_ZERO_SELF_SIGNED_CERT"===r.conn.authorizationError||"UNABLE_TO_VERIFY_LEAF_SIGNATURE"===r.conn.authorizationError||"SELF_SIGNED_CERT_IN_CHAIN"===r.conn.authorizationError)||r.opt.certExpired&&"CERT_HAS_EXPIRED"===r.conn.authorizationError?(r.opt.encoding||r.conn.setEncoding("utf-8"),r.opt.certExpired&&"CERT_HAS_EXPIRED"===r.conn.authorizationError&&ls.log("Connecting to server with expired certificate"),r._connectionHandler()):ls.log(r.conn.authorizationError)}))}else r.conn=cs.createConnection(i,r._connectionHandler.bind(r));r.conn.requestedDisconnect=!1,r.conn.setTimeout(0),r.conn.cyclingPingTimer=new ms(r),(n=r.conn).cyclingPingTimer.on("pingTimeout",(function(){r.connectionTimedOut(n)})),n.cyclingPingTimer.on("wantPing",(function(){r.connectionWantsPing(n)})),r.opt.encoding||r.conn.setEncoding("utf8");var s=sr.from("");r.conn.addListener("data",(function(e){r.conn.cyclingPingTimer.notifyOfActivity(),"string"==typeof e?s+=e:s=sr.concat([s,e]);var t=r.convertEncoding(s).toString().split(gs);t.pop()||(s=sr.from(""),t.forEach((function(e){if(e.length){r.out.debug("Received:",e);var t=ps(e,r.opt.stripColors);try{r.emit("raw",t)}catch(e){r.conn.requestedDisconnect||r.emit("error",e)}}})))})),r.conn.addListener("end",(function(){r.out.debug('Connection got "end" event')})),r.conn.addListener("close",(function(){if(r.out.debug('Connection got "close" event'),r.conn===this){if(!r.conn||!r.conn.requestedDisconnect){if(r.out.debug("Disconnected: reconnecting"),r.conn.cyclingPingTimer.stop(),r.cancelAutoRenick(),r.conn=null,null!==r.opt.retryCount&&e>=r.opt.retryCount)return r.out.debug("Maximum retry count ("+r.opt.retryCount+") reached. Aborting"),void r.emit("abort",r.opt.retryCount);r.out.debug("Waiting "+r.opt.retryDelay+"ms before retrying"),r.retryTimeout=setTimeout((function(){r.connect(e+1)}),r.opt.retryDelay)}}else r.out.debug("Non-latest connection is being discarded")})),r.conn.addListener("error",(function(e){r.emit("netError",e),r.out.debug("Network error: "+e)}))}else this.out.error("Connection already active, not reconnecting  please disconnect first")},ys.prototype.end=function(){this.conn&&(this.conn.cyclingPingTimer.stop(),this.cancelAutoRenick(),this.conn.destroy())},ys.prototype.disconnect=function(e,t){"function"==typeof e&&(t=e,e=void 0),e=e||"node-irc says goodbye";var r=this;if(r.out.debug("Disconnecting from IRC server"),r.conn&&!r.conn.destroyed)if(r.conn.requestedDisconnect)r.out.error("Connection already disconnecting, skipping disconnect");else{var n;if("open"===r.conn.readyState)r.floodProtectionEnabled?(n=r._sendImmediate,r._clearCmdQueue()):n=r.send,n.call(r,"QUIT",e);r.conn.requestedDisconnect=!0,"function"==typeof t&&r.conn.once("end",t),r.conn.end(),r.conn.cyclingPingTimer.stop(),r.cancelAutoRenick()}else r.retryTimeout?(clearTimeout(r.retryTimeout),r.retryTimeout=null,r.out.error("Connection already broken, skipping disconnect (and clearing up automatic retry)")):r.out.error("Connection already broken, skipping disconnect")},ys.prototype.send=function(){var e=Array.prototype.slice.call(arguments);(e[e.length-1].match(/\s/)||e[e.length-1].match(/^:/)||""===e[e.length-1])&&(e[e.length-1]=":"+e[e.length-1]),this.conn&&!this.conn.requestedDisconnect?(this.out.debug("SEND:",e.join(" ")),this.conn.write(e.join(" ")+"\r\n")):this.out.debug("(Disconnected) SEND:",e.join(" "))},ys.prototype.activateFloodProtection=function(e){var t=e||this.opt.floodProtectionDelay,r=this;r.floodProtectionEnabled=!0,r.cmdQueue=[],r._origSend=r.send,r.send=function(){r.cmdQueue.push(arguments)},r._sendImmediate=function(){r._origSend.apply(r,arguments)},r._clearCmdQueue=function(){r.cmdQueue=[]},r.dequeue=function(){var e=r.cmdQueue.shift();e&&r._origSend.apply(r,e)},r.floodProtectionInterval=setInterval(r.dequeue,t),r.dequeue()},ys.prototype.deactivateFloodProtection=function(){if(this.floodProtectionEnabled){clearInterval(this.floodProtectionInterval),this.floodProtectionInterval=null;for(var e=this.cmdQueue.length,t=0;t<e;t++)this.dequeue();this.send=this._origSend,this._origSend=null,this._sendImmediate=null,this._clearCmdQueue=null,this.dequeue=null,this.floodProtectionEnabled=!1}},ys.prototype.cancelAutoRenick=function(){if(this.conn){var e=this.conn.renickInterval;return clearInterval(this.conn.renickInterval),this.conn.renickInterval=null,e}},ys.prototype.join=function(e,t){var r,n=this,i=e.split(" "),o=i[0];i[1]&&(r=i[1].split(",")),(o=o.split(",")).forEach((function(e,i){n.once("join"+e.toLowerCase(),(function(){var o=e;if(r&&r[i]&&(o+=" "+r[i]),-1===n._findChannelFromStrings(e)&&n.opt.channels.push(o),"function"==typeof t)return t.apply(this,arguments)}))})),n.send.apply(this,["JOIN"].concat(e.split(" ")))},ys.prototype.part=function(e,t,r){"function"==typeof t&&(r=t,t=void 0);var n=this;e.split(",").forEach((function(e){"function"==typeof r&&n.once("part"+e.toLowerCase(),r);var t=n._findChannelFromStrings(e);-1!==t&&n.opt.channels.splice(t,1)})),t?this.send("PART",e,t):this.send("PART",e)},ys.prototype.action=function(e,t){var r=this,n=Math.min(this.maxLineLength-e.length,this.opt.messageSplit)-"ACTION ".length;void 0!==t&&t.toString().split(/\r?\n/).filter((function(e){return e.length>0})).forEach((function(t){r._splitLongLines(t,n,[]).forEach((function(t){var n="ACTION "+t+"";r.send("PRIVMSG",e,n),r.emit("selfMessage",e,n)}))}))},ys.prototype._findChannelFromStrings=function(e){return e=e.toLowerCase(),this.opt.channels.findIndex((function(t){var r=t.split(" ")[0];return r=r.toLowerCase(),e===r}))},ys.prototype._splitLongLines=function(e,t,r){if(t=t||450,0===e.length)return r;if(sr.byteLength(e,"utf8")<=t)return r.push(e),r;var n,i=sr.alloc(t+1),o=i.write(e,"utf8"),s=i.toString("utf8",0,o),a=s.length-1,c=s[a],u=1;if(c.match(/\s/))n=a;else{for(var l=1;a-l>0;){if((c=s[a-l]).match(/\s/)){n=a-l;break}l++}a-l<=0&&(n=a,u=0)}var h=s.substring(0,n);return r.push(h),this._splitLongLines(e.substring(n+u,e.length),t,r)},ys.prototype.say=function(e,t){this._speak("PRIVMSG",e,t)},ys.prototype.notice=function(e,t){this._speak("NOTICE",e,t)},ys.prototype.emitChannelEvent=function(e,t){var r=Array.prototype.slice.call(arguments,2);this.emit.apply(this,[e,t].concat(r)),this.emit.apply(this,[e+t].concat(r)),t!==t.toLowerCase()&&this.emit.apply(this,[e+t.toLowerCase()].concat(r))},ys.prototype._speak=function(e,t,r){var n=this,i=Math.min(this.maxLineLength-t.length,this.opt.messageSplit);void 0!==r&&r.toString().split(/\r?\n/).filter((function(e){return e.length>0})).forEach((function(r){n._splitLongLines(r,i,[]).forEach((function(r){n.send(e,t,r),"PRIVMSG"===e&&n.emit("selfMessage",t,r)}))}))},ys.prototype.whois=function(e,t){if("function"==typeof t){var r=function(n){if(n.nick.toLowerCase()===e.toLowerCase())return this.removeListener("whois",r),t.apply(this,arguments)};this.addListener("whois",r)}this.send("WHOIS",e)},ys.prototype.list=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("LIST"),this.send.apply(this,e)},ys.prototype._addWhoisData=function(e,t,r,n){n&&!this._whoisData[e]||(this._whoisData[e]=this._whoisData[e]||{nick:e},this._whoisData[e][t]=r)},ys.prototype._clearWhoisData=function(e){this._addWhoisData(e,"nick",e);var t=this._whoisData[e];return delete this._whoisData[e],t},ys.prototype._handleCTCP=function(e,t,r,n,i){var o=(r=(r=r.slice(1)).slice(0,r.indexOf(""))).split(" ");this.emit("ctcp",e,t,r,n,i),this.emit("ctcp-"+n,e,t,r,i),"privmsg"===n&&"VERSION"===r&&this.emit("ctcp-version",e,t,i),"ACTION"===o[0]&&o.length>1&&this.emit("action",e,t,o.slice(1).join(" "),i),"PING"===o[0]&&"privmsg"===n&&o.length>1&&this.ctcp(e,"notice",r)},ys.prototype.ctcp=function(e,t,r){return this["privmsg"===t?"say":"notice"](e,""+r+"")},ys.prototype.convertEncoding=function(e){var t=this,r=e;return t.opt.encoding&&(r=bs(e,t.opt.encoding,(function(r,n){t.out&&t.out.error(r,{str:e,charset:n})}))),r},Xr.canConvertEncoding=ws,ys.prototype.canConvertEncoding=ws,ys.prototype._updateMaxLineLength=function(){this.maxLineLength=497-this.nick.length-this.hostMask.length};var vs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),i.test(e)};var r,n=(r=bt)&&r.__esModule?r:{default:r};var i=/^[\x00-\x7F]+$/;e.exports=t.default,e.exports.default=t.default}(vs,vs.exports);var _s=r(vs.exports);const Es=2e4;var ks=Object.freeze({__proto__:null,fn:async function(e,t){let r;const n=new Promise(((t,n)=>{r=setTimeout((()=>n(new Error("Request was timed out"))),e.fetcherTimeout?e.fetcherTimeout:Es)})),i=new Promise(((r,n)=>{try{_s(t.claims.irc.nick)}catch(e){throw new Error(`IRC fetcher was not set up properly (${e.message})`)}try{const n=new Xr.Client(e.domain,t.claims.irc.nick,{port:6697,secure:!0,channels:[],showErrors:!1,debug:!1}),i=/[a-zA-Z0-9\-_]+\s+:\s(openpgp4fpr:.*)/,o=/End\sof\s.*\staxonomy./,s=[];n.addListener("registered",(t=>{n.send(`PRIVMSG NickServ TAXONOMY ${e.nick}`)})),n.addListener("notice",((e,t,a,c)=>{if(i.test(a)){const e=a.match(i);s.push(e[1])}o.test(a)&&(n.disconnect(),r(s))}))}catch(e){n(e)}}));return Promise.race([i,n]).then((e=>(clearTimeout(r),e)))},timeout:Es});const Ss=5e3;var xs=Object.freeze({__proto__:null,fn:async function(e,t){let r;const n=new Promise(((t,n)=>{r=setTimeout((()=>n(new Error("Request was timed out"))),e.fetcherTimeout?e.fetcherTimeout:Ss)})),i=new Promise(((r,n)=>{try{kt(t.claims.matrix.instance),_s(t.claims.matrix.accessToken)}catch(e){throw new Error(`Matrix fetcher was not set up properly (${e.message})`)}const i=`https://${t.claims.matrix.instance}/_matrix/client/r0/rooms/${e.roomId}/event/${e.eventId}?access_token=${t.claims.matrix.accessToken}`;mt.get(i,{headers:{Accept:"application/json","User-Agent":`doipjs/${Mt}`}}).then((e=>e.data)).then((e=>{r(e)})).catch((e=>{n(e)}))}));return Promise.race([i,n]).then((e=>(clearTimeout(r),e)))},timeout:Ss});const Cs=5e3;var Ts=Object.freeze({__proto__:null,fn:async function(e,t){let r;const n=new Promise(((t,n)=>{r=setTimeout((()=>n(new Error("Request was timed out"))),e.fetcherTimeout?e.fetcherTimeout:Cs)})),i=r=>new Promise(((n,i)=>{try{_s(t.claims.telegram.token)}catch(e){throw new Error(`Telegram fetcher was not set up properly (${e.message})`)}if(!e.chat||!e.user)return void i(new Error("Both chat name and user name must be provided"));const o=`https://api.telegram.org/bot${t.claims.telegram.token}/${r}?chat_id=@${e.chat}`;mt.get(o,{headers:{Accept:"application/json","User-Agent":`doipjs/${Mt}`},validateStatus:e=>200===e}).then((e=>n(e.data))).catch((e=>i(e)))})),o=i("getChatAdministrators").then((t=>{if(!t.ok)throw new Error("Request to get chat administrators failed");return i("getChat").then((r=>{if(!r.ok)throw new Error("Request to get chat info failed");let n;for(const e of t.result)"creator"===e.status&&(n=e.user.username);if(!r.result.description)throw new Error("There is no chat description");if(n!==e.user)throw new Error("User doesn't match");return{user:n,text:r.result.description}}))}));return Promise.race([o,n]).then((e=>(clearTimeout(r),e)))},timeout:Cs}),Os={},As={},Ls=class extends Error{constructor(e){super(e),this.name="TimeoutError"}},Ps=function(e){let t;const r=new Promise((r=>{t=setTimeout(r,e)}));return r.timeout=t,r};const js=Ls,Rs=Ps;const Bs=Ls;const Ms=function(e,t){const r=Rs(t);return Promise.race([e.finally((function(){clearTimeout(r.timeout)})),r.then((()=>{throw new js}))])},Is=Ps,Ds=Ls,Ns=function(e,t,r="error",n){return new Promise(((i,o)=>{let s;const a=()=>{clearTimeout(s),e.removeListener(t,u),e.removeListener(r,c)};function c(e){o(e),a()}function u(e){i(e),a()}e.once(t,u),r&&e.once(r,c),n&&(s=setTimeout((()=>{a(),o(new Bs)}),n))}))},Us=$n,qs=function(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))};As.EventEmitter=Us,As.timeout=Ms,As.delay=Is,As.TimeoutError=Ds,As.promise=Ns,As.Deferred=qs;var Fs={exports:{}},zs={detect:function(e){if(!e)return!1;return-1!==e.replace(/\\20/g,"").replace(/\\22/g,"").replace(/\\26/g,"").replace(/\\27/g,"").replace(/\\2f/g,"").replace(/\\3a/g,"").replace(/\\3c/g,"").replace(/\\3e/g,"").replace(/\\40/g,"").replace(/\\5c/g,"").search(/[ "&'/:<>@\\]/g)},escape:function(e){return null===e?null:e.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/"/g,"\\22").replace(/&/g,"\\26").replace(/'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescape:function(e){return null===e?null:e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")}};const Ws=zs;let $s=class e{constructor(e,t,r){if("string"!=typeof t||!t)throw new TypeError("Invalid domain.");this.setDomain(t),this.setLocal("string"==typeof e?e:""),this.setResource("string"==typeof r?r:"")}[Symbol.toPrimitive](e){return"number"===e?NaN:this.toString()}toString(e){let t=this._domain;return this._local&&(t=this.getLocal(e)+"@"+t),this._resource&&(t=t+"/"+this._resource),t}bare(){return this._resource?new e(this._local,this._domain,null):this}equals(e){return this._local===e._local&&this._domain===e._domain&&this._resource===e._resource}setLocal(e,t){return(t=t||Ws.detect(e))&&(e=Ws.escape(e)),this._local=e&&e.toLowerCase(),this}getLocal(e=!1){let t=null;return t=e?Ws.unescape(this._local):this._local,t}setDomain(e){return this._domain=e.toLowerCase(),this}getDomain(){return this._domain}setResource(e){return this._resource=e,this}getResource(){return this._resource}};Object.defineProperty($s.prototype,"local",{get:$s.prototype.getLocal,set:$s.prototype.setLocal}),Object.defineProperty($s.prototype,"domain",{get:$s.prototype.getDomain,set:$s.prototype.setDomain}),Object.defineProperty($s.prototype,"resource",{get:$s.prototype.getResource,set:$s.prototype.setResource});const Ys=$s;const Xs=$s,Hs=zs,Vs=function(e){let t,r;const n=e.indexOf("/");-1!==n&&(r=e.slice(n+1),e=e.slice(0,n));const i=e.indexOf("@");return-1!==i&&(t=e.slice(0,i),e=e.slice(i+1)),new Ys(t,e,r)};function Gs(...e){return e[1]||e[2]?new Xs(...e):Vs(...e)}Fs.exports=Gs.bind(),Fs.exports.jid=Gs,Fs.exports.JID=Xs,Fs.exports.equal=function(e,t){return e.equals(t)},Fs.exports.detectEscape=Hs.detect,Fs.exports.escapeLocal=Hs.escape,Fs.exports.unescapeLocal=Hs.unescape,Fs.exports.parse=Vs;var Js=Fs.exports,Ks={exports:{}},Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});const Zs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};function ea(e){return Zs[e]}const ta={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'"};function ra(e){if("#"===e[1]){const t="x"===e[2]?parseInt(e.slice(3),16):parseInt(e.slice(2),10);if(9===t||10===t||13===t||t>=32&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111)return String.fromCodePoint(t);throw new Error("Illegal XML character 0x"+t.toString(16))}if(ta[e])return ta[e]||e;throw new Error("Illegal XML entity "+e)}Qs.escapeXML=function(e){return e.replace(/["&'<>]/g,ea)},Qs.escapeXMLText=function(e){return e.replace(/[&<>]/g,ea)},Qs.unescapeXML=function(e){let t="",r=-1,n=-1,i=0;for(;-1!==(r=e.indexOf("&",i))&&-1!==(n=e.indexOf(";",r+1));)t=t+e.slice(i,r)+ra(e.slice(r,n+1)),i=n+1;return 0===i?e:(t+=e.substring(i),t)},Qs.unescapeXMLText=function(e){return e.replace(/&(amp|#38|lt|#60|gt|#62);/g,ra)};var na=Qs;let ia=class e{constructor(e,t){this.name=e,this.parent=null,this.children=[],this.attrs={},this.setAttrs(t)}is(e,t){return this.getName()===e&&(!t||this.getNS()===t)}getName(){const e=this.name.indexOf(":");return e>=0?this.name.slice(e+1):this.name}getNS(){const e=this.name.indexOf(":");if(e>=0){const t=this.name.slice(0,e);return this.findNS(t)}return this.findNS()}findNS(e){if(e){const t="xmlns:"+e;if(this.attrs[t])return this.attrs[t];if(this.parent)return this.parent.findNS(e)}else{if(this.attrs.xmlns)return this.attrs.xmlns;if(this.parent)return this.parent.findNS()}}getXmlns(){let e={};this.parent&&(e=this.parent.getXmlns());for(const t in this.attrs){const r=t.match("xmlns:?(.*)");this.attrs.hasOwnProperty(t)&&r&&(e[this.attrs[t]]=r[1])}return e}setAttrs(e){"string"==typeof e?this.attrs.xmlns=e:e&&Object.assign(this.attrs,e)}getAttr(e,t){if(!t)return this.attrs[e];const r=this.getXmlns();return r[t]?this.attrs[[r[t],e].join(":")]:null}getChild(e,t){return this.getChildren(e,t)[0]}getChildren(e,t){const r=[];for(const n of this.children)!n.getName||n.getName()!==e||t&&n.getNS()!==t||r.push(n);return r}getChildByAttr(e,t,r,n){return this.getChildrenByAttr(e,t,r,n)[0]}getChildrenByAttr(e,t,r,n){let i=[];for(const o of this.children)!o.attrs||o.attrs[e]!==t||r&&o.getNS()!==r||i.push(o),n&&o.getChildrenByAttr&&i.push(o.getChildrenByAttr(e,t,r,!0));return n&&(i=i.flat()),i}getChildrenByFilter(e,t){let r=[];for(const n of this.children)e(n)&&r.push(n),t&&n.getChildrenByFilter&&r.push(n.getChildrenByFilter(e,!0));return t&&(r=r.flat()),r}getText(){let e="";for(const t of this.children)"string"!=typeof t&&"number"!=typeof t||(e+=t);return e}getChildText(e,t){const r=this.getChild(e,t);return r?r.getText():null}getChildElements(){return this.getChildrenByFilter((t=>t instanceof e))}root(){return this.parent?this.parent.root():this}up(){return this.parent?this.parent:this}c(t,r){return this.cnode(new e(t,r))}cnode(e){return this.children.push(e),"object"==typeof e&&(e.parent=this),e}append(...e){for(const t of e)this.children.push(t),"object"==typeof t&&(t.parent=this)}prepend(...e){for(const t of e)this.children.unshift(t),"object"==typeof t&&(t.parent=this)}t(e){return this.children.push(e),this}remove(e,t){const r="string"==typeof e?r=>!(r.is&&r.is(e,t)):t=>t!==e;return this.children=this.children.filter(r),this}text(e){return e&&1===this.children.length?(this.children[0]=e,this):this.getText()}attr(e,t){return void 0!==t||null===t?(this.attrs||(this.attrs={}),this.attrs[e]=t,this):this.attrs[e]}toString(){let e="";return this.write((t=>{e+=t})),e}_addChildren(e){e(">");for(const t of this.children)null!=t&&(t.write?t.write(e):"string"==typeof t?e(na.escapeXMLText(t)):t.toString&&e(na.escapeXMLText(t.toString(10))));e("</"),e(this.name),e(">")}write(e){e("<"),e(this.name);for(const t in this.attrs){const r=this.attrs[t];null!=r&&(e(" "),e(t),e('="'),e(na.escapeXML("string"==typeof r?r:r.toString(10))),e('"'))}0===this.children.length?e("/>"):this._addChildren(e)}};ia.prototype.tree=ia.prototype.root;var oa=ia,sa=oa;function aa(e,t){if(Array.isArray(t))for(const r of t)aa(e,r);else""!==t&&null!=t&&!0!==t&&!1!==t&&e.cnode(t)}var ca=function(e,t,...r){if("object"==typeof t&&null!==t){delete t.__source,delete t.__self;for(const[e,r]of Object.entries(t))null==r?delete t[e]:t[e]=r.toString(10)}const n=new sa(e,t);for(const e of r)aa(n,e);return n},ua=$n,la=Qs;class ha extends ua.EventEmitter{constructor(){super();let e,t,r,n,i,o,s,a,c,u=0,l=0;this._handleTagOpening=function(e,t,r){e?this.emit("endElement",t):(this.emit("startElement",t,r),o&&this.emit("endElement",t))},this.write=function(h){"string"!=typeof h&&(h=h.toString());let f=0;function p(){if("number"==typeof l){const e=h.slice(l,f);return l=void 0,e}}for(e&&(h=e+h,f+=t?0:e.length,t=!1,e=null);f<h.length;f++){switch(u){case 0:{const e=h.indexOf("<",f);-1!==e&&f!==e&&(f=e);break}case 8:{const e=h.indexOf(a,f);-1!==e&&(f=e);break}case 1:{const e=h.indexOf("--\x3e",f);-1!==e&&(f=e+2);break}case 10:{const e=h.indexOf("]]>",f);-1!==e&&(f=e+2);break}}const e=h.charCodeAt(f);switch(u){case 0:if(60===e){const e=p();e&&this.emit("text",la.unescapeXML(e)),u=3,l=f+1,n={}}break;case 9:if(93===e)if("]>"===h.substr(f+1,2)){const e=p();e&&this.emit("text",e),u=0}else h.length<f+2&&(t=!0,f=h.length);break;case 3:47===e&&l===f?(l=f+1,i=!0):33===e?"[CDATA["===h.substr(f+1,7)?(l=f+8,u=9):h.length<f+8&&"[CDATA[".startsWith(h.slice(f+1))?(t=!0,f=h.length):(l=void 0,u=1):63===e?(l=void 0,u=2):(e<=32||47===e||62===e)&&(r=p(),f--,u=4);break;case 1:if(62===e){const e=h.charCodeAt(f-1),t=h.charCodeAt(f-2);(45===e&&45===t||93===e&&93===t)&&(u=0)}break;case 2:if(62===e){63===h.charCodeAt(f-1)&&(u=0)}break;case 4:62===e?(this._handleTagOpening(i,r,n),r=void 0,n=void 0,i=void 0,o=void 0,u=0,l=f+1):47===e?o=!0:e>32&&(l=f,u=5);break;case 5:(e<=32||61===e)&&(c=p(),f--,u=6);break;case 6:61===e&&(u=7);break;case 7:34!==e&&39!==e||(s=e,a=34===e?'"':"'",u=8,l=f+1);break;case 8:if(e===s){const e=la.unescapeXML(p());n[c]=e,c=void 0,u=4}}}"number"==typeof l&&l<=h.length&&(e=h.slice(l),l=0)}}end(e){e&&this.write(e),this.write=function(){}}}var fa=ha,pa=class extends Error{constructor(...e){super(...e),this.name="XMLError"}};const da=fa,ma=oa,ga=$n,ya=pa;let ba=class extends ga{constructor(){super();const e=new da;this.root=null,this.cursor=null,e.on("startElement",this.onStartElement.bind(this)),e.on("endElement",this.onEndElement.bind(this)),e.on("text",this.onText.bind(this)),this.parser=e}onStartElement(e,t){const r=new ma(e,t),{root:n,cursor:i}=this;n?i!==n&&i.append(r):(this.root=r,this.emit("start",r)),this.cursor=r}onEndElement(e){const{root:t,cursor:r}=this;if(e===r.name){if(r!==t)return r.parent?void(this.cursor=r.parent):(r.parent=t,this.emit("element",r),void(this.cursor=t));this.emit("end",t)}else this.emit("error",new ya(`${r.name} must be closed.`))}onText(e){const{cursor:t}=this;t?t.t(e):this.emit("error",new ya(`${e} must be a child.`))}write(e){this.parser.write(e)}end(e){e&&this.parser.write(e)}};ba.XMLError=ya;var wa=ba;!function(e){const t=oa,r=ca,n=wa,{escapeXML:i,unescapeXML:o,escapeXMLText:s,unescapeXMLText:a}=Qs,c=pa;e.exports=function(...e){return r(...e)},Object.assign(e.exports,{Element:t,createElement:r,Parser:n,escapeXML:i,unescapeXML:o,escapeXMLText:s,unescapeXMLText:a,XMLError:c})}(Ks);var va=Ks.exports;let _a=class extends Error{constructor(e,t,r){super(e+(t?` - ${t}`:"")),this.name="XMPPError",this.condition=e,this.text=t,this.application=r}static fromElement(e){const[t,r,n]=e.children;let i,o;r&&(r.is("text")?i=r:r&&(o=r),n&&(o=n));const s=new this(t.name,i?i.text():"",o);return s.element=e,s}};var Ea=_a;const ka=Ea;var Sa=class extends ka{constructor(...e){super(...e),this.name="StreamError"}},xa={exports:{}};!function(e){function t(e){let{port:t,hostname:r,protocol:n}=new URL(e);return"[::1]"===r&&(r="::1"),{port:t,hostname:r,protocol:n}}function r(e){const{port:r,hostname:n}=t(`http://${e}`);return{port:r,hostname:n}}Object.assign(e.exports,{parseURI:t,parseHost:r,parseService:function(e){return e.includes("://")?t(e):r(e)}})}(xa);var Ca=xa.exports;const{EventEmitter:Ta,promise:Oa}=As,Aa=Js,La=va,Pa=Sa,{parseHost:ja,parseService:Ra}=Ca;let Ba=class extends Ta{constructor(e={}){super(),this.jid=null,this.timeout=2e3,this.options=e,this.socketListeners=Object.create(null),this.parserListeners=Object.create(null),this.status="offline",this.socket=null,this.parser=null,this.root=null}_reset(){this.jid=null,this.status="offline",this._detachSocket(),this._detachParser()}async _streamError(e,t){try{await this.send(La("stream:error",{},[La(e,{xmlns:"urn:ietf:params:xml:ns:xmpp-streams"},t)]))}catch{}return this._end()}_onData(e){const t=e.toString("utf8");this.emit("input",t),this.parser.write(t)}_onParserError(e){this._streamError("bad-format"),this._detachParser(),this.emit("error",e)}_attachSocket(e){this.socket=e;const t=this.socketListeners;t.data=this._onData.bind(this),t.close=(e,t)=>{this._reset(),this._status("disconnect",{clean:!e,event:t})},t.connect=()=>{this._status("connect")},t.error=e=>{this.emit("error",e)},this.socket.on("close",t.close),this.socket.on("data",t.data),this.socket.on("error",t.error),this.socket.on("connect",t.connect)}_detachSocket(){const{socketListeners:e,socket:t}=this;for(const r of Object.getOwnPropertyNames(e))t.removeListener(r,e[r]),delete e[r];return this.socket=null,t}_onElement(e){const t=e.is("error","http://etherx.jabber.org/streams");t&&this._onStreamError(e),this.emit("element",e),this.emit(this.isStanza(e)?"stanza":"nonza",e),t&&this._end()}_onStreamError(e){const t=Pa.fromElement(e);if("see-other-host"===t.condition)return this._onSeeOtherHost(t);this.emit("error",t)}async _onSeeOtherHost(e){const{protocol:t}=Ra(this.options.service),r=e.element.getChildText("see-other-host"),{port:n}=ja(r);let i;i=n?`${t||"xmpp:"}//${r}`:(t?`${t}//`:"")+r;try{await Oa(this,"disconnect");const{domain:e,lang:t}=this.options;await this.connect(i),await this.open({domain:e,lang:t})}catch(e){this.emit("error",e)}}_attachParser(e){this.parser=e;const t=this.parserListeners;t.element=this._onElement.bind(this),t.error=this._onParserError.bind(this),t.end=e=>{this._detachParser(),this._status("close",e)},t.start=e=>{this._status("open",e)},this.parser.on("error",t.error),this.parser.on("element",t.element),this.parser.on("end",t.end),this.parser.on("start",t.start)}_detachParser(){const e=this.parserListeners;for(const t of Object.getOwnPropertyNames(e))this.parser.removeListener(t,e[t]),delete e[t];this.parser=null}_jid(e){return this.jid=Aa(e),this.jid}_status(e,...t){this.status=e,this.emit("status",e,...t),this.emit(e,...t)}async _end(){let e;try{e=await this.close()}catch{}try{await this.disconnect()}catch{}return e}async start(){if("offline"!==this.status)throw new Error("Connection is not offline");const{service:e,domain:t,lang:r}=this.options;await this.connect(e);const n=Oa(this,"online");return await this.open({domain:t,lang:r}),n}async connect(e){this._status("connecting",e);const t=new this.Socket;return this._attachSocket(t),t.connect(this.socketParameters(e)),Oa(t,"connect")}async disconnect(e=this.timeout){this.socket&&this._status("disconnecting"),this.socket.end(),await Oa(this.socket,"close","error",e)}async open(e){this._status("opening"),"string"==typeof e&&(e={domain:e});const{domain:t,lang:r,timeout:n=this.timeout}=e,i=this.headerElement();return i.attrs.to=t,i.attrs["xml:lang"]=r,this.root=i,this._attachParser(new this.Parser),await this.write(this.header(i)),Oa(this,"open","error",n)}async stop(){const e=await this._end();return"offline"!==this.status&&this._status("offline",e),e}async close(e=this.timeout){const t=this.footer(this.footerElement()),r=Promise.all([Oa(this.parser,"end","error",e),this.write(t)]);this.parser&&this.socket&&this._status("closing");const[n]=await r;return this.root=null,n}async restart(){this._detachParser();const{domain:e,lang:t}=this.options;return this.open({domain:e,lang:t})}async send(e){e.parent=this.root,await this.write(e.toString()),this.emit("send",e)}sendReceive(e,t=this.timeout){return Promise.all([this.send(e),Oa(this,"element","error",t)]).then((([,e])=>e))}write(e){return new Promise(((t,r)=>{"closing"!==this.status?this.socket.write(e,(n=>{if(n)return r(n);this.emit("output",e),t()})):r(new Error("Connection is closing"))}))}isStanza(e){const{name:t}=e;return"iq"===t||"message"===t||"presence"===t}isNonza(e){return!this.isStanza(e)}header(e){return e.toString()}headerElement(){return new La.Element("",{version:"1.0",xmlns:this.NS})}footer(e){return e.toString()}footerElement(){}socketParameters(){}};Ba.prototype.NS="",Ba.prototype.Socket=null,Ba.prototype.Parser=null;var Ma=Ba;const Ia=Ma;let Da=class extends Ia{constructor(e){super(e),this.transports=[]}send(e,...t){return this.Transport.prototype.send.call(this,e,...t)}sendMany(...e){return this.Transport.prototype.sendMany.call(this,...e)}_findTransport(e){return this.transports.find((t=>{try{return void 0!==t.prototype.socketParameters(e)}catch{return!1}}))}connect(e){const t=this._findTransport(e);if(!t)throw new Error("No compatible connection method found.");return this.Transport=t,this.Socket=t.prototype.Socket,this.Parser=t.prototype.Parser,super.connect(e)}socketParameters(...e){return this.Transport.prototype.socketParameters(...e)}header(...e){return this.Transport.prototype.header(...e)}headerElement(...e){return this.Transport.prototype.headerElement(...e)}footer(...e){return this.Transport.prototype.footer(...e)}footerElement(...e){return this.Transport.prototype.footerElement(...e)}};Da.prototype.NS="jabber:client";const Na=Da,Ua=va,qa=Js;Os.Client=Na,Os.xml=Ua,Os.jid=qa;const{EventEmitter:Fa}=As;class za extends Fa{constructor(e){super(),this.delay=1e3,this.entity=e,this._timeout=null}scheduleReconnect(){const{entity:e,delay:t,_timeout:r}=this;clearTimeout(r),this._timeout=setTimeout((async()=>{if("disconnect"===e.status)try{await this.reconnect()}catch{}}),t)}async reconnect(){const{entity:e}=this;this.emit("reconnecting");const{service:t,domain:r,lang:n}=e.options;await e.connect(t),await e.open({domain:r,lang:n}),this.emit("reconnected")}start(){const{entity:e}=this,t={};t.disconnect=()=>{this.scheduleReconnect()},this.listeners=t,e.on("disconnect",t.disconnect)}stop(){const{entity:e,listeners:t,_timeout:r}=this;e.removeListener("disconnect",t.disconnect),clearTimeout(r)}}var Wa=n(Object.freeze({__proto__:null,default:{}}));const $a=Wa,Ya=t.WebSocket||$a,Xa=$n,Ha="ECONNERROR";var Va=class extends Xa{constructor(){super(),this.listeners=Object.create(null)}connect(e){this.url=e,this._attachSocket(new Ya(e,["xmpp"]))}_attachSocket(e){this.socket=e;const{listeners:t}=this;t.open=()=>{this.emit("connect")},t.message=({data:e})=>this.emit("data",e),t.error=e=>{const{url:t}=this;let{error:r}=e;r||(r=new Error(`WebSocket ${Ha} ${t}`),r.errno=Ha,r.code=Ha),r.event=e,r.url=t,this.emit("error",r)},t.close=e=>{this._detachSocket(),this.emit("close",!e.wasClean,e)},this.socket.addEventListener("open",t.open),this.socket.addEventListener("message",t.message),this.socket.addEventListener("error",t.error),this.socket.addEventListener("close",t.close)}_detachSocket(){delete this.url;const{socket:e,listeners:t}=this;for(const r of Object.getOwnPropertyNames(t))e.removeEventListener(r,t[r]),delete t[r];delete this.socket}end(){this.socket.close()}write(e,t){Ya===$a?this.socket.send(e,t):(this.socket.send(e),t())}};const{Parser:Ga,Element:Ja,XMLError:Ka}=va;const Qa=Va,Za=Ma,ec=va,tc=class extends Ga{onStartElement(e,t){const r=new Ja(e,t),{cursor:n}=this;n&&n.append(r),this.cursor=r}onEndElement(e){const{cursor:t}=this;e===t.name?t.parent?this.cursor=t.parent:(t.is("open","urn:ietf:params:xml:ns:xmpp-framing")?this.emit("start",t):t.is("close","urn:ietf:params:xml:ns:xmpp-framing")?this.emit("end",t):this.emit("element",t),this.cursor=null):this.emit("error",new Ka(`${t.name} must be closed.`))}},rc="urn:ietf:params:xml:ns:xmpp-framing";let nc=class extends Za{send(e,...t){return!e.attrs.xmlns&&super.isStanza(e)&&(e.attrs.xmlns="jabber:client"),super.send(e,...t)}async sendMany(e){for(const t of e)await this.send(t)}footerElement(){return new ec.Element("close",{xmlns:rc})}headerElement(){const e=super.headerElement();return e.name="open",e.attrs.xmlns=rc,e}socketParameters(e){return/^wss?:\/\//.test(e)?e:void 0}};nc.prototype.Socket=Qa,nc.prototype.NS="jabber:client",nc.prototype.Parser=tc;const ic=nc;var oc=function(e){if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");for(const t of e)if("function"!=typeof t)throw new TypeError("Middleware must be composed of functions!");return function(t,r){let n=-1;return function i(o){if(o<=n)return Promise.reject(new Error("next() called multiple times"));n=o;let s=e[o];o===e.length&&(s=r);if(!s)return Promise.resolve();try{return Promise.resolve(s(t,i.bind(null,o+1)))}catch(e){return Promise.reject(e)}}(0)}};var sc=class{constructor(e,t){this.stanza=t,this.entity=e;const{name:r,attrs:n}=t,{type:i,id:o}=n;this.name=r,this.id=o||"",this.type="message"===r?i||"normal":"presence"===r?i||"available":i||"",this.from=null,this.to=null,this.local="",this.domain="",this.resource=""}};const ac=sc,cc=Js;const uc=sc,lc=Js;const hc=oc,fc=class extends ac{constructor(e,t){super(e,t);const{jid:r,domain:n}=e,i=t.attrs.to||r&&r.toString(),o=t.attrs.from||n;i&&(this.to=new cc(i)),o&&(this.from=new cc(o),this.local=this.from.local,this.domain=this.from.domain,this.resource=this.from.resource)}},pc=class extends uc{constructor(e,t){super(e,t);const{jid:r,domain:n}=e,i=t.attrs.from||r&&r.toString(),o=t.attrs.to||n;i&&(this.from=new lc(i)),o&&(this.to=new lc(o),this.local=this.to.local,this.domain=this.to.domain,this.resource=this.to.resource)}};function dc(e,t,r){return n=>{const i=new r(e,n);return hc(t)(i)}}function mc(e){return(t,r)=>{r().then((t=>t&&e.send(t))).catch((t=>e.emit("error",t)))}}const gc=function(){return async({stanza:e,entity:t},r)=>{if(!e.is("features","http://etherx.jabber.org/streams"))return r();!await r()&&t.jid&&t._status("online",t.jid)}};const yc=Ea;var bc=class extends yc{constructor(e,t,r,n){super(e,t,r),this.type=n,this.name="StanzaError"}static fromElement(e){const t=super.fromElement(e);return t.type=e.attrs.type,t}};const wc=function(){let e;for(;!e;)e=Math.random().toString(36).slice(2,12);return e},vc=bc,{Deferred:_c}=As,Ec=As.timeout,kc=va;class Sc{constructor({entity:e,middleware:t}){this.handlers=new Map,this.entity=e,this.middleware=t}start(){this.middleware.use(this._route.bind(this))}_route({type:e,name:t,id:r,stanza:n},i){if(!function({name:e,type:t}){return"iq"===e&&("error"===t||"result"===t)}({name:t,type:e}))return i();const o=this.handlers.get(r);if(!o)return i();"error"===e?o.reject(vc.fromElement(n.getChild("error"))):o.resolve(n),this.handlers.delete(r)}async request(e,t=3e4){e.attrs.id||(e.attrs.id=wc());const r=new _c;this.handlers.set(e.attrs.id,r);try{await this.entity.send(e),await Ec(r.promise,t)}catch(t){throw this.handlers.delete(e.attrs.id),t}return r.promise}_childRequest(e,t,r,...n){const{name:i,attrs:{xmlns:o}}=t;return this.request(kc("iq",{type:e,to:r},t),...n).then((e=>e.getChild(i,o)))}async get(...e){return this._childRequest("get",...e)}async set(...e){return this._childRequest("set",...e)}}const xc=va,Cc="urn:ietf:params:xml:ns:xmpp-stanzas";function Tc({stanza:e}){return xc("iq",{to:e.attrs.from,from:e.attrs.to,id:e.attrs.id})}function Oc(e,t,r){const n=Tc(e);return n.attrs.type="error",r&&n.append(r),n.append(t),n}function Ac(e,t){return xc("error",{type:e},xc(t,Cc))}function Lc(e){return async function(t,r){if(!function({name:e,type:t}){return"iq"===e&&"error"!==t&&"result"!==t}(t))return r();const{stanza:n}=t,i=n.getChildElements(),[o]=i;if(!function({type:e},t,r){return("get"===e||"set"===e)&&1===t.length&&!!r}(t,i,o))return Oc(t,Ac("modify","bad-request"),o);let s;t.element=o;try{s=await r()}catch(t){e.emit("error",t),s=Ac("cancel","internal-server-error")}return s||(s=Ac("cancel","service-unavailable")),s instanceof xc.Element&&s.is("error")?Oc(t,s,o):function(e,t){const r=Tc(e);return r.attrs.type="result",t&&r.append(t),r}(t,s instanceof xc.Element?s:void 0)}}function Pc(e,t,r,n){return(i,o)=>i.type!==e|!i.element||!i.element.is(r,t)?o():n(i,o)}var jc={exports:{}},Rc={};const Bc=wa;var Mc={};function Ic(e){return e.startsWith("https")||e.startsWith("wss")}Mc.compare=function(e,t){let r,n;return r=Ic(e.uri)&&!Ic(t.uri)?-1:!Ic(e.uri)&&Ic(t.uri)?1:0,0!==r?r:(n=e.method===t.method?0:"websocket"===e.method?-1:"websocket"===t.method?1:"xbosh"===e.method?-1:"xbosh"===t.method?1:"httppoll"===e.method?-1:"httppoll"===t.method?1:0,0!==n?n:0)};const Dc=t.fetch||Wa,Nc=function(e){const t=new Bc;let r=null,n=null;if(t.on("start",(e=>{r=e})),t.on("element",(e=>{r.append(e)})),t.on("error",(e=>{n=e})),t.write(e),t.end(),n)throw n;return r},Uc=Mc.compare;Rc.resolve=function(e){return Dc(`https://${e}/.well-known/host-meta`).then((e=>e.text())).then((e=>Nc(e).getChildren("Link").filter((e=>["urn:xmpp:alt-connections:websocket","urn:xmpp:alt-connections:httppoll","urn:xmpp:alt-connections:xbosh"].includes(e.attrs.rel))).map((({attrs:e})=>({rel:e.rel,href:e.href,method:e.rel.split(":").pop(),uri:e.href}))).sort(Uc))).catch((()=>[]))};const qc=Wa,Fc=Rc;jc.exports=function(...e){return Promise.all([qc.resolve?qc.resolve(...e):Promise.resolve([]),Fc.resolve(...e)]).then((([e,t])=>[...e,...t]))},qc.resolve&&(jc.exports.dns=qc),jc.exports.http=Fc;const zc=jc.exports,{promise:Wc}=As;async function $c(e){const t=await zc(e,{srv:[{service:"xmpps-client",protocol:"tcp"},{service:"xmpp-client",protocol:"tcp"}]});return[...new Set(t.map((e=>e.uri)))]}async function Yc(e,t){if(0===t.length)throw new Error("Couldn't connect");const r=t.shift(),n=e._findTransport(r);if(!n)return Yc(e,t);e._status("connecting",r);const i=n.prototype.socketParameters(r),o=new n.prototype.Socket;try{o.connect(i),await Wc(o,"connect")}catch{return Yc(e,t)}e._attachSocket(o),o.emit("connect"),e.Transport=n,e.Socket=n.prototype.Socket,e.Parser=n.prototype.Parser}var Xc={encode:function(e){return t.btoa(e)},decode:function(e){return t.atob(e)}};const Hc=Ea;var Vc,Gc=class extends Hc{constructor(...e){super(...e),this.name="SASLError"}},Jc={exports:{}},Kc={exports:{}};function Qc(){return Vc||(Vc=1,e=Kc,Kc.exports,function(e,t){function r(){this._mechs=[]}r.prototype.use=function(e,t){return t||(e=(t=e).prototype.name),this._mechs.push({name:e,mech:t}),this},r.prototype.create=function(e){for(var t=0,r=this._mechs.length;t<r;t++)for(var n=0,i=e.length;n<i;n++){var o=this._mechs[t];if(o.name==e[n])return new o.mech}return null},t.exports=r}(0,e)),Kc.exports;var e}(function(e,t,r){(t.exports=r).Factory=r})(0,Jc,Qc());var Zc=Jc.exports;const{encode:eu,decode:tu}=Xc,ru=Gc,nu=va,iu=Zc,ou="urn:ietf:params:xml:ns:xmpp-sasl";async function su(e,t,r,n){const i=e.create([r]);if(!i)throw new Error("No compatible mechanism");const{domain:o}=t.options,s={username:null,password:null,server:o,host:o,realm:o,serviceType:"xmpp",serviceName:o,...n};return new Promise(((e,r)=>{const n=o=>{if(o.attrs.xmlns===ou)if("challenge"!==o.name)"failure"===o.name?r(ru.fromElement(o)):"success"===o.name&&e(),t.removeListener("nonza",n);else{i.challenge(tu(o.text()));const e=i.response(s);t.send(nu("response",{xmlns:ou,mechanism:i.name},"string"==typeof e?eu(e):""))}};t.on("nonza",n),i.clientFirst&&t.send(nu("auth",{xmlns:ou,mechanism:i.name},eu(i.response(s))))}))}const au=va,cu="urn:ietf:params:xml:ns:xmpp-bind";async function uu(e,t,r){const n=await t.set(function(e){return au("bind",{xmlns:cu},e&&au("resource",{},e))}(r)),i=n.getChildText("jid");return e._jid(i),i}const lu=va,hu="urn:ietf:params:xml:ns:xmpp-session";const fu=va,pu="urn:xmpp:sm:3";var du,mu={exports:{}},gu={exports:{}};!function(e,t){!function(e,t,r){(t.exports=r).Mechanism=r}(0,e,(du||(du=1,function(e,t){!function(e,t){function r(){}r.prototype.name="ANONYMOUS",r.prototype.clientFirst=!0,r.prototype.response=function(e){return e.trace||""},r.prototype.challenge=function(e){},t.exports=r}(0,e)}(gu,gu.exports)),gu.exports))}(mu);const yu=mu.exports;var bu,wu={exports:{}},vu={exports:{}};!function(e,t){!function(e,t,r){(t.exports=r).Mechanism=r}(0,e,(bu||(bu=1,function(e,t){!function(e,t){function r(){}r.prototype.name="PLAIN",r.prototype.clientFirst=!0,r.prototype.response=function(e){var t="";return t+=e.authzid||"",t+="\0",t+=e.username,(t+="\0")+e.password},r.prototype.challenge=function(e){return this},t.exports=r}(0,e)}(vu,vu.exports)),vu.exports))}(wu);const _u=wu.exports;const{xml:Eu,jid:ku,Client:Su}=Os,xu=function(e){return(e.split("://")[1]||e).split(":")[0].split("/")[0]},Cu=function({entity:e}){const t=new za(e);return t.start(),t},Tu=function({entity:e}){e.transports.push(ic)},Ou=function({entity:e}){const t=[mc(e)],r=[],n=dc(e,t,fc),i=dc(e,r,pc);return e.on("element",n),e.hookOutgoing=i,{use:e=>(t.push(e),e),filter:e=>(r.push(e),e)}},Au=function({middleware:e}){return e.use(gc()),{use:function(t,r,n){return e.use(((e,i)=>{const{stanza:o}=e;if(!o.is("features","http://etherx.jabber.org/streams"))return i();const s=o.getChild(t,r);return s?n(e,i,s):i()}))}}},Lu=function(...e){const t=new Sc(...e);return t.start(),t},Pu=function({middleware:e,entity:t}){return e.use(Lc(t)),{get(t,r,n){e.use(Pc("get",t,r,n))},set(t,r,n){e.use(Pc("set",t,r,n))}}},ju=function({entity:e}){const t=e.connect;e.connect=async function(r){if(!r||/:\/\//.test(r))return t.call(this,r);const n=function(e,t){return t.filter((t=>e._findTransport(t)))}(e,await $c(r));if(0===n.length)throw new Error("No compatible transport found.");try{await Yc(e,n)}catch(t){throw e._reset(),e._status("disconnect"),t}}},Ru=function({streamFeatures:e},t){const r=new iu;return e.use("mechanisms",ou,(async({stanza:e,entity:n})=>{const i=e.getChild("mechanisms",ou).children.map((e=>e.text()));const o=r._mechs.map((({name:e})=>e)).filter((e=>i.includes(e)));let s=o[0];"function"==typeof t?await t((e=>su(r,n,s,e)),s):(t.username||t.password||(s="ANONYMOUS"),await su(r,n,s,t)),await n.restart()})),{use:(...e)=>r.use(...e)}},Bu=function({streamFeatures:e,iqCaller:t},r){e.use("bind",cu,function({iqCaller:e},t){return async({entity:r},n)=>{await("function"==typeof t?t((t=>uu(r,e,t))):uu(r,e,t)),n()}}({iqCaller:t},r))},Mu=function({iqCaller:e,streamFeatures:t}){t.use("session",hu,(async(t,r,n)=>(n.getChild("optional")||await e.set(lu("session",hu)),r())))},Iu=function({streamFeatures:e,entity:t,middleware:r}){let n=null;const i={allowResume:!0,preferredMaximum:null,enabled:!1,id:"",outbound:0,inbound:0,max:null};return t.on("online",(e=>{n=e,i.outbound=0,i.inbound=0})),t.on("offline",(()=>{i.outbound=0,i.inbound=0,i.enabled=!1,i.id=""})),r.use(((e,r)=>{const{stanza:n}=e;return["presence","message","iq"].includes(n.name)?i.inbound+=1:n.is("r",pu)?t.send(fu("a",{xmlns:pu,h:i.inbound})).catch((()=>{})):n.is("a",pu)&&(i.outbound=n.attrs.h),r()})),e.use("sm",pu,(async(e,r)=>{if(i.id)try{return await async function(e,t,r){const n=await e.sendReceive(fu("resume",{xmlns:pu,h:t,previd:r}));if(!n.is("resumed",pu))throw n;return n}(t,i.inbound,i.id),i.enabled=!0,t.jid=n,t.status="online",!0}catch{i.id="",i.enabled=!1,i.outbound=0}await r();const o=async function(e,t,r){return e.send(fu("enable",{xmlns:pu,max:r,resume:t?"true":void 0})),new Promise(((t,r)=>{e.on("nonza",(function n(i){if(i.is("enabled",pu))t(i);else{if(!i.is("failed",pu))return;r(i)}e.removeListener("nonza",n)}))}))}(t,i.allowResume,i.preferredMaximum);i.outbound=0;try{const e=await o;i.enabled=!0,i.id=e.attrs.id,i.max=e.attrs.max}catch{i.enabled=!1}i.inbound=0})),i},Du=function(e){e.use(yu)},Nu=function(e){e.use(_u)};var Uu=Eu,qu=function(e={}){const{resource:t,credentials:r,username:n,password:i,...o}=e,{domain:s,service:a}=o;!s&&a&&(o.domain=xu(a));const c=new Su(o),u=Cu({entity:c}),l=Tu({entity:c}),h=Ou({entity:c}),f=Au({middleware:h}),p=Lu({middleware:h,entity:c}),d=Pu({middleware:h,entity:c}),m=ju({entity:c}),g=Ru({streamFeatures:f},r||{username:n,password:i}),y=Iu({streamFeatures:f,entity:c,middleware:h}),b=Bu({iqCaller:p,streamFeatures:f},t),w=Mu({iqCaller:p,streamFeatures:f}),v=Object.entries({plain:Nu,anonymous:Du}).map((([e,t])=>({[e]:t(g)})));return Object.assign(c,{entity:c,reconnect:u,websocket:l,middleware:h,streamFeatures:f,iqCaller:p,iqCallee:d,resolve:m,sasl:g,resourceBinding:b,sessionEstablishment:w,streamManagement:y,mechanisms:v})},Fu={exports:{}},zu=Qs;var Wu=function e(t,r,n){"number"==typeof r&&(r=" ".repeat(r)),n||(n=1);let i=`<${t.name}`;for(const e in t.attrs){const r=t.attrs[e];null!=r&&(i+=` ${e}="${zu.escapeXML("string"==typeof r?r:r.toString(10))}"`)}if(t.children.length>0){i+=">";for(const o of t.children)null!=o&&(r&&(i+="\n"+r.repeat(n)),i+="string"==typeof o?zu.escapeXMLText(o):e(o,r,n+1));r&&(i+="\n"+r.repeat(n-1)),i+=`</${t.name}>`}else i+="/>";return i};var $u=function e(t){if("object"!=typeof t)return t;const r=new t.constructor(t.name,t.attrs);for(let n=0;n<t.children.length;n++){const i=t.children[n];r.cnode(e(i))}return r};const Yu=Wu,Xu=va,Hu=$u,Vu="urn:ietf:params:xml:ns:xmpp-sasl",Gu=[["handshake","jabber:component:accept"],["auth",Vu],["challenge",Vu],["response",Vu],["success",Vu]];function Ju(e){return function(e){return 0!==e.children.length&&Gu.some((t=>e.is(...t)))}(e)&&(e.children=[],e.append(Xu("hidden",{xmlns:"xmpp.js"}))),e}function Ku(e){return Yu(Ju(Hu(e)))}Fu.exports=function(e,t){(me.env.XMPP_DEBUG||!0===t)&&(e.on("element",(e=>{console.debug(`IN\n${Ku(e)}`)})),e.on("send",(e=>{console.debug(`OUT\n${Ku(e)}`)})),e.on("error",console.error),e.on("status",((e,t)=>{console.debug("status",e,t?t.toString():"")})))},Fu.exports.hideSensitive=Ju;var Qu=r(Fu.exports);const Zu=5e3;let el=null,tl=null;const rl=async(e,t,r)=>new Promise(((n,i)=>{const o=qu({service:e,username:t,password:r});"production"!==process.env.NODE_ENV&&Qu(o,!0);const{iqCaller:s}=o;o.start(),o.on("online",(e=>{n({xmpp:o,iqCaller:s})})),o.on("error",(e=>{i(e)}))}));var nl=Object.freeze({__proto__:null,fn:async function(e,t){try{kt(t.claims.xmpp.service),_s(t.claims.xmpp.username),_s(t.claims.xmpp.password)}catch(e){throw new Error(`XMPP fetcher was not set up properly (${e.message})`)}if(!el||"online"!==el.status){const e=await rl(t.claims.xmpp.service,t.claims.xmpp.username,t.claims.xmpp.password);el=e.xmpp,tl=e.iqCaller}let r;const n=new Promise(((t,n)=>{r=setTimeout((()=>n(new Error("Request was timed out"))),e.fetcherTimeout?e.fetcherTimeout:Zu)})),i=new Promise(((t,r)=>{(async()=>{let n=!1;const i=[];if(!n)try{(await tl.request(Uu("iq",{type:"get",to:e.id},Uu("pubsub","http://jabber.org/protocol/pubsub",Uu("items",{node:"http://ariadne.id/protocol/proof"}))),3e4)).getChild("pubsub").getChildren("items").forEach((e=>{"http://ariadne.id/protocol/proof"===e.attrs.node&&e.getChildren("item").forEach((e=>{i.push(e.getChildText("value"))}))})),t(i),n=!0}catch(e){}if(!n)try{(await tl.request(Uu("iq",{type:"get",to:e.id},Uu("pubsub","http://jabber.org/protocol/pubsub",Uu("items",{node:"urn:xmpp:vcard4",max_items:"1"}))),3e4)).getChild("pubsub").getChildren("items").forEach((e=>{"urn:xmpp:vcard4"===e.attrs.node&&e.getChildren("item").forEach((e=>{if("current"===e.attrs.id){const t=e.getChild("vcard","urn:ietf:params:xml:ns:vcard-4.0");t.getChildren("url").forEach((e=>{i.push(e.getChildText("uri"))})),t.getChildren("note").forEach((e=>{i.push(e.getChildText("text"))}))}}))})),t(i),n=!0}catch(e){}if(!n)try{const r=await tl.request(Uu("iq",{type:"get",to:e.id},Uu("vCard","vcard-temp")),3e4);r.getChild("vCard","vcard-temp").getChildren("URL").forEach((e=>{i.push(e.children[0])})),r.getChild("vCard","vcard-temp").getChildren("NOTE").forEach((e=>{i.push(e.children[0])})),r.getChild("vCard","vcard-temp").getChildren("DESC").forEach((e=>{i.push(e.children[0])})),t(i),n=!0}catch(e){r(e)}el.stop()})()}));return Promise.race([i,n]).then((e=>(clearTimeout(r),e)))},timeout:Zu});return e.activitypub=Dt,e.dns=qt,e.graphql=zt,e.http=Yt,e.irc=ks,e.matrix=xs,e.telegram=Ts,e.xmpp=nl,e}({});
